# Engagement Tracks Configuration
# Service tiers defining SLA, depth, and resource allocation
version: "1.0"

tracks:
  poc:
    name: "POC"
    description: "Technical validation with minimal governance overhead"
    sla:
      response_time_hours: 48
      escalation_threshold_days: 5
    resources:
      sa_allocation: shared
      max_concurrent_pocs: 3
    playbook_policy:
      max_playbooks: 3
      required: ["PB_101"]  # Architecture only
      blocked: ["PB_301", "PB_401"]  # No value/health tracking
    canvas_policy:
      depth: minimal
      required: ["problem_solution_fit"]
      template_only: true
    duration_limit_weeks: 4

  economy:
    name: "Economy"
    description: "Self-service with templated outputs"
    sla:
      response_time_hours: 72
      escalation_threshold_days: 7
    resources:
      sa_allocation: pooled
      max_concurrent_nodes: 5
    playbook_policy:
      max_playbooks: 5
      required: ["PB_102", "PB_201"]
      blocked: ["PB_701"]  # No deep competitive analysis
    canvas_policy:
      depth: template_based
      required: ["context_canvas", "decision_canvas"]
      custom_allowed: false
    governance:
      gap_scan_frequency: weekly
      health_check_frequency: monthly

  premium:
    name: "Premium"
    description: "Full engagement with dedicated resources"
    sla:
      response_time_hours: 24
      escalation_threshold_days: 3
    resources:
      sa_allocation: dedicated
      max_concurrent_nodes: 2
    playbook_policy:
      max_playbooks: unlimited
      required: ["PB_102", "PB_201", "PB_301", "PB_401"]
      blocked: []
    canvas_policy:
      depth: full_custom
      required: all
      custom_allowed: true
    governance:
      gap_scan_frequency: daily
      health_check_frequency: weekly
      executive_review: quarterly

  fast_track:
    name: "Fast Track"
    description: "Accelerated engagement for urgent timelines"
    sla:
      response_time_hours: 4
      escalation_threshold_days: 1
    resources:
      sa_allocation: dedicated
      priority: highest
    playbook_policy:
      max_playbooks: 8
      required: ["PB_102", "PB_201", "PB_101"]
      parallel_execution: true
    canvas_policy:
      depth: accelerated
      required: ["context_canvas", "decision_canvas", "execution_map"]
      template_only: false
    governance:
      gap_scan_frequency: daily
      daily_standup: required

# Track selection matrix
selection_rules:
  - condition: "deal_size < 50000"
    default_track: economy

  - condition: "deal_size >= 50000 AND deal_size < 250000"
    default_track: premium

  - condition: "deal_size >= 250000"
    default_track: premium
    flags: ["executive_sponsor_required"]

  - condition: "timeline_weeks <= 4 AND technical_evaluation == true"
    override_track: poc

  - condition: "timeline_weeks <= 6 AND urgency == 'critical'"
    override_track: fast_track

# Upgrade/downgrade policies
transitions:
  economy_to_premium:
    triggers:
      - "deal_size_increased >= 50000"
      - "executive_sponsor_added"
      - "complexity_increased"
    approval_required: false

  premium_to_economy:
    triggers:
      - "deal_size_decreased < 50000"
      - "customer_request"
    approval_required: true
    approver: "senior_manager"
