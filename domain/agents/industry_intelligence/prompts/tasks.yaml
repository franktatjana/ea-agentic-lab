# II Agent Task Prompts
# Purpose: Task-specific prompts using CAF framework (Context, Action, Format)
# Reference: Personality defined in personalities/ii_personality.yaml

# ==============================================================================
# INDUSTRY ANALYSIS TASKS
# ==============================================================================
industry_analysis:
  industry_deep_dive:
    name: "Industry Deep-Dive"
    description: "Comprehensive industry structure and dynamics analysis"
    prompt: |
      Context: Analyzing the {industry} / {sub_industry} sector for realm {realm_id}.
      Company: {company_name}, operating in {regions}.
      Source registry: {source_registry} (check before fetching new URLs)

      Action: Conduct comprehensive industry analysis.
      - Research industry structure: segments, market size, growth rate
      - Identify key players and market leaders
      - Analyze competitive dynamics at sector level (concentration, barriers to entry)
      - Extract industry benchmarks: IT spending ratios, digital maturity, operational KPIs
      - Assess industry health and outlook

      Format:
      - industry_overview: {name, market_size, growth_rate, maturity}
      - segments: [{name, market_share, growth, key_players}]
      - key_players: [{name, market_position, revenue, differentiation}]
      - competitive_dynamics: {concentration, barriers_to_entry, buyer_power, supplier_power}
      - benchmarks: [{metric, industry_average, top_quartile, source}]
      - sources_used: [{url, title, date_accessed, type}]

  sector_comparison:
    name: "Sector Comparison"
    description: "Compare company positioning against industry benchmarks"
    prompt: |
      Context: Comparing {company_name} against {industry} benchmarks.
      Company data: {company_profile}
      Industry benchmarks: {industry_benchmarks}

      Action: Assess company positioning relative to industry.
      - Compare revenue, growth, and market share against peers
      - Evaluate digital maturity relative to industry average
      - Identify where the company leads or lags the sector
      - Note implications for vendor engagement strategy

      Format:
      - positioning: [{dimension, company_value, industry_average, percentile, implication}]
      - strengths_vs_industry: [{area, description}]
      - gaps_vs_industry: [{area, description, opportunity}]

# ==============================================================================
# REGULATORY MONITORING TASKS
# ==============================================================================
regulatory:
  regulatory_scan:
    name: "Regulatory Landscape Scan"
    description: "Scan for regulations affecting the customer's industry"
    prompt: |
      Context: Scanning regulatory landscape for {industry} in {regions}.
      Realm: {realm_id}, Company: {company_name}
      Existing regulatory landscape: {existing_regulatory}

      Action: Research current and upcoming regulatory requirements.
      - Identify active regulations affecting this industry
      - Track proposed regulations and their legislative timeline
      - Note compliance deadlines and enforcement dates
      - Assess impact on company operations and IT infrastructure
      - Identify vendor opportunities created by regulatory requirements

      Format:
      - active_regulations: [{name, body, jurisdiction, compliance_status, impact}]
      - upcoming_regulations: [{name, body, stage, expected_date, impact}]
      - compliance_deadlines: [{regulation, deadline, requirement, vendor_opportunity}]
      - sources: [{url, title, type}]

  regulatory_impact_assessment:
    name: "Regulatory Impact Assessment"
    description: "Assess impact of a specific regulatory change on engagement"
    prompt: |
      Context: Assessing impact of {regulation_name} on {company_name}.
      Regulation details: {regulation_details}
      Active nodes: {active_nodes}
      Company profile: {company_profile}

      Action: Evaluate how this regulation affects our engagement.
      - Determine which company operations are affected
      - Assess compliance timeline and urgency
      - Identify which active nodes are impacted
      - Determine if this creates new vendor opportunities

      Format:
      - impact_summary: 2-3 sentence assessment
      - affected_operations: [{department, impact_level, compliance_gap}]
      - affected_nodes: [{node_id, impact, required_changes}]
      - vendor_opportunities: [{capability, relevance, urgency}]
      - recommended_actions: [{action, owner_agent, priority}]

# ==============================================================================
# TREND ANALYSIS TASKS
# ==============================================================================
trends:
  trend_identification:
    name: "Industry Trend Identification"
    description: "Identify and classify industry trends"
    prompt: |
      Context: Analyzing trends in {industry} for realm {realm_id}.
      Recent news digest: {recent_news_digest}
      Previous trend analysis: {previous_trends}
      Industry profile: {industry_profile}

      Action: Identify and classify industry trends.
      - Scan for macro trends: consolidation, transformation, disruption, regulation
      - Classify each trend by maturity: emerging, accelerating, mature, declining
      - Assess vendor relevance: does this trend create opportunities or threats?
      - Compare against previous analysis to detect momentum changes

      Format:
      - trends: [{name, category, maturity, direction, vendor_relevance, evidence, source}]
      - category values: consolidation, digital_transformation, regulatory, market_shift, technology, competitive
      - maturity values: emerging, accelerating, mature, declining
      - vendor_relevance values: high_opportunity, moderate, low, threat
      - momentum_changes: [{trend, previous_maturity, current_maturity, driver}]

  trend_impact_analysis:
    name: "Trend Impact Analysis"
    description: "Deep analysis of a specific trend's impact on engagement"
    prompt: |
      Context: Analyzing impact of trend "{trend_name}" on realm {realm_id}.
      Trend details: {trend_details}
      Company profile: {company_profile}
      Active nodes: {active_nodes}

      Action: Assess how this trend affects our engagement with this customer.
      - Determine how the trend affects the company's business
      - Identify which business lines are most impacted
      - Assess implications for active and potential engagements
      - Recommend actions for the account team

      Format:
      - impact_assessment: 2-3 paragraph analysis
      - affected_business_lines: [{name, impact, timeframe}]
      - engagement_implications: [{node_or_opportunity, impact, recommended_action}]
      - talking_points: [key points for customer conversations]
