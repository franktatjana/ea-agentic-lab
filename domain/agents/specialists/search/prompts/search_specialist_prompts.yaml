# Search Specialist Prompts
# Reusable prompt templates for search specialist tasks

prompts:
  # =============================================================================
  # SEARCH ARCHITECTURE PROMPTS
  # =============================================================================
  design_search_architecture:
    description: "Design search architecture for customer use case"
    template: |
      As a Search Specialist, design the search architecture for:

      **Use Case:** {use_case}
      **Content Type:** {content_type}
      **Query Patterns:** {query_patterns}
      **Scale Requirements:**
      - Documents: {document_count}
      - Queries per second: {qps}
      - Latency requirement: {latency_ms}ms

      Provide:
      1. **Architecture Overview** - High-level design
      2. **Index Design** - Schema, analyzers, mappings
      3. **Query Strategy** - How queries will be processed
      4. **Relevance Approach** - Ranking and tuning strategy
      5. **Scaling Considerations** - How to grow
      6. **Trade-offs** - What we're optimizing for and what we're sacrificing

  assess_search_requirements:
    description: "Assess and structure search requirements"
    template: |
      As a Search Specialist, analyze the following search requirements:

      **Business Context:** {business_context}
      **Stated Requirements:**
      {requirements}

      **Current State:**
      {current_state}

      Provide:
      1. **Requirements Analysis** - What are they really asking for?
      2. **Query Types** - Categorize expected query patterns
      3. **Relevance Expectations** - What does "good" look like?
      4. **Technical Considerations** - Challenges and constraints
      5. **Clarifying Questions** - What we need to understand better

  # =============================================================================
  # RELEVANCE TUNING PROMPTS
  # =============================================================================
  analyze_relevance:
    description: "Analyze search relevance issues"
    template: |
      As a Search Specialist, analyze the relevance problem:

      **Symptom:** {symptom}
      **Example Queries:** {example_queries}
      **Expected Results:** {expected_results}
      **Actual Results:** {actual_results}

      **Current Configuration:**
      {current_config}

      Provide:
      1. **Root Cause Analysis** - Why is relevance poor?
      2. **Specific Issues** - Detailed problem identification
      3. **Recommended Fixes** - Configuration or design changes
      4. **Testing Approach** - How to validate improvements
      5. **Expected Impact** - What improvement to expect

  design_relevance_strategy:
    description: "Design relevance strategy for search use case"
    template: |
      As a Search Specialist, design the relevance strategy for:

      **Use Case:** {use_case}
      **Query Types:**
      {query_types}

      **Success Definition:**
      {success_definition}

      **Available Signals:**
      {available_signals}

      Provide:
      1. **Relevance Model** - How to score and rank results
      2. **Boosting Strategy** - What factors to boost/bury
      3. **Query Understanding** - How to interpret user intent
      4. **Personalization** - If/how to personalize
      5. **Testing Framework** - How to measure relevance
      6. **Iteration Plan** - How to improve over time

  # =============================================================================
  # VECTOR SEARCH PROMPTS
  # =============================================================================
  design_vector_search:
    description: "Design vector search architecture"
    template: |
      As a Search Specialist, design the vector search solution:

      **Use Case:** {use_case}
      **Content Type:** {content_type}
      **Query Type:** {query_type}
      **Scale:**
      - Vectors: {vector_count}
      - Dimensions: {dimensions}
      - QPS: {qps}

      Provide:
      1. **Embedding Strategy** - What embedding model and why
      2. **Index Configuration** - ANN algorithm and parameters
      3. **Hybrid Approach** - Combine with keyword search?
      4. **Query Pipeline** - How queries flow through system
      5. **Performance Tuning** - Latency vs. accuracy trade-offs
      6. **Testing Approach** - How to validate quality

  design_rag_system:
    description: "Design RAG retrieval architecture"
    template: |
      As a Search Specialist, design the RAG retrieval system:

      **Application:** {application}
      **Content Corpus:** {corpus_description}
      **Query Characteristics:** {query_characteristics}
      **LLM Context Window:** {context_window}

      Provide:
      1. **Chunking Strategy** - How to split documents
      2. **Embedding Approach** - Model selection and generation
      3. **Retrieval Pipeline** - Query processing and retrieval
      4. **Re-ranking** - How to select best chunks for context
      5. **Grounding Strategy** - How to ensure accuracy
      6. **Evaluation Approach** - How to measure RAG quality

  # =============================================================================
  # SCHEMA DESIGN PROMPTS
  # =============================================================================
  design_index_schema:
    description: "Design search index schema"
    template: |
      As a Search Specialist, design the index schema for:

      **Document Type:** {document_type}
      **Sample Document:**
      ```json
      {sample_document}
      ```

      **Search Requirements:**
      {search_requirements}

      **Query Patterns:**
      {query_patterns}

      Provide:
      1. **Field Mappings** - Types and analyzers for each field
      2. **Text Analysis** - Tokenization, filters, normalizers
      3. **Multi-field Strategy** - How to index same content differently
      4. **Nested/Object Handling** - Relationship modeling
      5. **Performance Considerations** - Index size, query speed
      6. **Migration Notes** - If replacing existing schema

  # =============================================================================
  # MIGRATION PROMPTS
  # =============================================================================
  plan_search_migration:
    description: "Plan search platform migration"
    template: |
      As a Search Specialist, plan the migration from:

      **Source:** {source_platform}
      **Target:** {target_platform}
      **Current Scale:**
      - Indexes: {index_count}
      - Documents: {document_count}
      - QPS: {current_qps}

      **Current Architecture:**
      {current_architecture}

      **Migration Drivers:**
      {migration_drivers}

      Provide:
      1. **Migration Strategy** - Approach and phases
      2. **Schema Migration** - Mapping transformations
      3. **Data Migration** - How to move data
      4. **Query Migration** - Query syntax/logic changes
      5. **Relevance Validation** - Ensure parity or improvement
      6. **Cutover Plan** - How to switch traffic
      7. **Rollback Plan** - If things go wrong
