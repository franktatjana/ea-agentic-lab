# PM Agent Task Prompts
# Purpose: Task-specific prompts using CAF framework (Context, Action, Format)
# Reference: Personality defined in personalities/pm_personality.yaml

# ============================================================================
# FEATURE GAP ANALYSIS PROMPTS
# ============================================================================
feature_gap:

  gap_assessment:
    name: "Feature Gap Assessment"
    description: "Analyze gap between customer need and product capability"
    prompt: |
      Context: Customer requirement: "{requirement_description}"
      Account: {account_name}, ARR: {arr}, Deal value: {deal_value}

      Action: Assess the gap:
      - What exactly is the customer asking for?
      - What does the product currently offer?
      - What is the gap between need and capability?
      - Is there a workaround?

      Format:
      - Requirement summary
      - Current capability
      - Gap description
      - Classification: [FEASIBLE/LIMITED/NOT_PLANNED]
      - Workaround (if any)
      - Impact on deal if gap not closed

  roadmap_dependency:
    name: "Roadmap Dependency Analysis"
    description: "Analyze customer dependency on roadmap items"
    prompt: |
      Context: {account_name} needs {feature} for {use_case}.
      Customer timeline: {customer_deadline}

      Action: Check roadmap alignment:
      - Is this feature on the roadmap?
      - What is the planned delivery date?
      - Does timing meet customer need?
      - What alternatives exist?

      Format:
      - Feature: {name}
      - Roadmap status: [AVAILABLE/PLANNED/CONSIDERING/NOT_PLANNED]
      - Planned date: {date or N/A}
      - Customer deadline: {date}
      - Gap: {positive/negative days}
      - Alternatives: {list}
      - Recommendation

  pattern_analysis:
    name: "Feature Request Pattern Analysis"
    description: "Identify patterns in feature requests across accounts"
    prompt: |
      Context: Review feature requests from the last {time_period}
      across {segment} accounts.

      Action: Identify patterns:
      - What features are most requested?
      - Which requests are deal-blocking?
      - What segments request what?
      - Any emerging trends?

      Format:
      - Top requested features table (Feature | Request count | Blocking deals)
      - Segment analysis
      - Trend observations
      - Recommendations for product team
      - Strategic accounts affected

# ============================================================================
# FEASIBILITY ASSESSMENT PROMPTS
# ============================================================================
feasibility:

  quick_feasibility:
    name: "Quick Feasibility Check"
    description: "Rapid feasibility assessment for customer request"
    prompt: |
      Context: Customer asks: "{customer_question}"

      Action: Provide quick feasibility assessment:
      - Can we do this today?
      - If not, is it planned?
      - If not planned, is it possible?
      - What should we tell the customer?

      Format:
      - Answer: [YES/PARTIAL/NO]
      - Explanation (2-3 sentences)
      - If YES: How to configure/use
      - If PARTIAL: What works, what doesn't
      - If NO: Alternative suggestion
      - Safe customer response

  detailed_feasibility:
    name: "Detailed Feasibility Analysis"
    description: "Deep feasibility analysis for complex request"
    prompt: |
      Context: Customer requirement: "{detailed_requirement}"
      Use case context: {use_case_context}

      Action: Conduct detailed feasibility analysis:
      - Technical feasibility
      - Resource requirements
      - Timeline implications
      - Architectural considerations
      - Risk factors

      Format:
      - Executive summary (1 paragraph)
      - Technical feasibility: [HIGH/MEDIUM/LOW]
      - Effort estimate: [SMALL/MEDIUM/LARGE/VERY_LARGE]
      - Dependencies identified
      - Risks and mitigations
      - Recommendation with rationale

# ============================================================================
# CUSTOMER COMMUNICATION PROMPTS
# ============================================================================
communication:

  roadmap_response:
    name: "Roadmap Question Response"
    description: "Prepare response to customer roadmap inquiry"
    prompt: |
      Context: Customer {account_name} asked about roadmap for {feature_area}.
      Relationship: {relationship_context}

      Action: Prepare appropriate response:
      - What can we share?
      - What should we not commit to?
      - How do we set expectations?
      - What follow-up do we need?

      Format:
      - Shareable information
      - Messaging (customer-ready text)
      - Caveats to include
      - What NOT to say
      - Follow-up actions

  gap_messaging:
    name: "Feature Gap Customer Messaging"
    description: "Prepare customer communication about feature gap"
    prompt: |
      Context: {account_name} has a gap: {gap_description}.
      Classification: {FEASIBLE/LIMITED/NOT_PLANNED}
      Deal impact: {impact}

      Action: Prepare customer communication:
      - How do we acknowledge the gap?
      - What alternatives can we offer?
      - How do we maintain confidence?
      - What commitment can we make?

      Format:
      - Key message (1-2 sentences)
      - Full response draft
      - Alternatives to present
      - Commitment language (if any)
      - Escalation path to offer

# ============================================================================
# PRODUCT FEEDBACK PROMPTS
# ============================================================================
product_feedback:

  feedback_synthesis:
    name: "Customer Feedback Synthesis"
    description: "Synthesize product feedback from account"
    prompt: |
      Context: Review all product-related feedback from {account_name}
      in the last {time_period}.

      Action: Synthesize feedback:
      - What are they happy about?
      - What are they frustrated by?
      - What do they wish we had?
      - How does usage reflect feedback?

      Format:
      - Positive feedback summary
      - Improvement requests table (Request | Frequency | Priority)
      - Usage-feedback alignment analysis
      - Product team recommendations
      - Strategic implications

  enhancement_request:
    name: "Enhancement Request Documentation"
    description: "Document customer enhancement request formally"
    prompt: |
      Context: {account_name} requests: "{enhancement_description}"
      Business justification: {business_context}

      Action: Document enhancement request:
      - Clear problem statement
      - Proposed solution from customer
      - Business impact
      - Technical considerations
      - Priority justification

      Format:
      - Request ID: ENH-{date}-{account}
      - Summary: (1 sentence)
      - Problem statement
      - Customer proposed solution
      - Business impact (quantified if possible)
      - Affected accounts (if pattern)
      - Priority: [P1/P2/P3]
      - Recommendation

# ============================================================================
# MEETING SUPPORT PROMPTS
# ============================================================================
meeting_support:

  cab_prep:
    name: "Customer Advisory Board Preparation"
    description: "Prepare for CAB meeting with customer"
    prompt: |
      Context: CAB meeting with {account_name} on {date}.
      Topics: {proposed_topics}
      Customer priorities: {known_priorities}

      Action: Prepare CAB materials:
      - What roadmap items to share?
      - What feedback to gather?
      - What commitments can we make?
      - What should we avoid discussing?

      Format:
      - Roadmap items for discussion
      - Feedback questions to ask
      - Commitment boundaries
      - Topics to avoid
      - Materials to prepare

  product_demo:
    name: "Product Demo Preparation"
    description: "Prepare product demonstration for customer"
    prompt: |
      Context: Demo for {account_name}.
      Use case: {use_case}
      Audience: {audience_roles}
      Concerns: {known_concerns}

      Action: Prepare demo plan:
      - What to show first?
      - What features address their needs?
      - What objections to preempt?
      - What to avoid showing?

      Format:
      - Demo flow (numbered steps)
      - Key features to highlight
      - Talking points per section
      - Objection handling
      - Features to avoid (and why)
