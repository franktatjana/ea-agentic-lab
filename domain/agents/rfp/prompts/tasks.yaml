# RFP Agent Task Prompts
# Purpose: Task-specific prompts using CAF framework (Context, Action, Format)
# Reference: Agent config defined in agents/rfp_agent.yaml

# ============================================================================
# BID/NO-BID DECISION PROMPTS
# ============================================================================
bid_decisions:

  analyze_rfp:
    name: "RFP Initial Analysis"
    description: "Analyze RFP requirements and scoring criteria"
    prompt: |
      Context: New RFP received for analysis.
      Customer: {customer_name}
      RFP Title: {rfp_title}
      Due date: {due_date}
      Estimated value: {estimated_value}

      Action: Analyze RFP comprehensively:
      - Extract mandatory vs. optional requirements
      - Identify evaluation criteria and weights
      - Flag ambiguous or trap requirements
      - Detect competitive positioning signals
      - Assess timeline feasibility

      Format:
      RFP Analysis: {rfp_title}

      Requirements Summary:
      - Mandatory: {count}
      - Optional: {count}
      - Unclear: {count}

      Evaluation Criteria:
      - {criterion 1}: {weight}%
      - {criterion 2}: {weight}%

      Red Flags:
      - {flag 1}

      Competitive Signals:
      - {signal} suggesting {competitor}

      Timeline Assessment:
      - Days to respond: {days}
      - Feasibility: {feasible/tight/unrealistic}

      Initial Assessment: {recommend_bid/needs_review/likely_no_bid}

  bid_no_bid_assessment:
    name: "Bid/No-Bid Decision"
    description: "Formal bid/no-bid recommendation"
    prompt: |
      Context: Bid/no-bid decision needed for RFP.
      RFP: {rfp_title}
      Customer: {customer_name}
      Value: {estimated_value}
      Analysis: {rfp_analysis}

      Action: Score opportunity across decision factors:
      - Strategic fit (25%): Target segment? Reference logo? Position strength?
      - Competitive position (25%): Incumbent? Relationships? Wired for competitor?
      - Solution fit (20%): Meet mandatory? Coverage %? Tech stack fit?
      - Resource availability (15%): Capacity to respond? Timeline? Staffing?
      - Commercial viability (15%): Budget? Terms? Contract structure?

      Format:
      Bid/No-Bid Assessment

      Scores (0-100):
      - Strategic fit: {score} - {justification}
      - Competitive position: {score} - {justification}
      - Solution fit: {score} - {justification}
      - Resource availability: {score} - {justification}
      - Commercial viability: {score} - {justification}

      Weighted Total: {total}/100

      Recommendation: {BID / NO-BID / CONDITIONAL BID}
      Reasoning: {why}

      Conditions (if conditional):
      - {condition 1}

      Next steps if bid:
      - {action}

  requirement_compliance_matrix:
    name: "Requirement Compliance Matrix"
    description: "Map RFP requirements to our capabilities"
    prompt: |
      Context: RFP requirements need compliance mapping.
      RFP: {rfp_title}
      Requirements: {requirements_list}

      Action: Map each requirement to compliance status:
      - Full: We fully meet this requirement
      - Partial: We partially meet with gaps
      - Roadmap: Planned capability, not yet available
      - No: We cannot meet this requirement

      Format:
      Compliance Matrix: {rfp_title}

      | Req ID | Requirement | Status | Notes |
      |--------|-------------|--------|-------|
      | R1 | {requirement} | Full/Partial/Roadmap/No | {details} |

      Summary:
      - Full compliance: {count} ({%})
      - Partial: {count} ({%})
      - Roadmap: {count} ({%})
      - Non-compliant: {count} ({%})

      Critical gaps:
      - {gap affecting mandatory requirement}

      Risk assessment:
      - {overall risk level with reasoning}

# ============================================================================
# RESPONSE STRATEGY PROMPTS
# ============================================================================
response_strategy:

  develop_win_themes:
    name: "Develop Win Themes"
    description: "Create differentiated positioning for RFP response"
    prompt: |
      Context: Developing win themes for RFP response.
      RFP: {rfp_title}
      Customer: {customer_name}
      Evaluation criteria: {criteria}
      Competitor analysis: {competitor_intel}

      Action: Develop 3-5 win themes that:
      - Address evaluation criteria directly
      - Differentiate from likely competitors
      - Leverage our unique strengths
      - Resonate with customer priorities

      Format:
      Win Themes: {rfp_title}

      Theme 1: {theme title}
      - Message: {core message}
      - Evidence: {proof points}
      - Addresses: {which evaluation criteria}
      - Differentiates from: {competitor}

      Theme 2: {theme title}
      ...

      Executive Summary Approach:
      - Opening hook: {attention grabber}
      - Core message: {why us}
      - Call to action: {what we want them to do}

      Competitive Positioning:
      - Against {competitor}: {positioning strategy}

  draft_executive_summary:
    name: "Draft Executive Summary"
    description: "Create compelling executive summary"
    prompt: |
      Context: Drafting executive summary for RFP response.
      RFP: {rfp_title}
      Win themes: {win_themes}
      Value proposition: {value_prop}

      Action: Draft 1-page executive summary that:
      - Wins on the first page
      - Leads with outcomes, not features
      - Addresses customer's stated priorities
      - Makes our differentiators obvious

      Format:
      Executive Summary (1 page max)

      Why {company_name}
      {Opening paragraph: Hook + understanding of their challenge}

      Our Approach
      {How we'll solve their specific problem}

      Proven Results
      {Relevant proof points and references}

      Our Commitment
      {Specific outcomes we're committing to}

      Next Steps
      {Clear call to action}

  draft_response_section:
    name: "Draft Response Section"
    description: "Draft response to specific RFP section"
    prompt: |
      Context: Drafting response to RFP section.
      Section: {section_title}
      Requirements: {section_requirements}
      Win themes: {relevant_themes}

      Action: Draft response following structure:
      - Comply: State compliance clearly
      - Explain: How we meet the requirement
      - Differentiate: Why our approach is better

      Format:
      Section: {section_title}

      {Requirement 1}
      Compliance: We fully comply.
      {Explanation of how we meet this requirement}
      {Differentiation - what makes our approach better}
      Evidence: {specific proof point}

      {Requirement 2}
      ...

      Section summary:
      {Brief closing that reinforces our strengths}

# ============================================================================
# TEAM ORCHESTRATION PROMPTS
# ============================================================================
orchestration:

  create_response_plan:
    name: "Create Response Plan"
    description: "Plan RFP response with assignments and timeline"
    prompt: |
      Context: Creating response plan for RFP.
      RFP: {rfp_title}
      Due date: {due_date}
      Sections: {sections_list}
      Available resources: {team_members}

      Action: Create response plan with:
      - Section ownership assignments
      - Timeline with milestones
      - Review checkpoints
      - Risk mitigation

      Format:
      RFP Response Plan: {rfp_title}
      Due: {due_date}

      Team Assignments:
      | Section | Owner | Reviewer | Due |
      |---------|-------|----------|-----|
      | Executive Summary | RFP Agent | Senior Manager | {date} |
      | Technical | SA Agent | RFP Agent | {date} |
      | Security | InfoSec Agent | SA Agent | {date} |
      | Commercial | AE Agent | Senior Manager | {date} |

      Timeline:
      - {phase}: {dates} - {deliverables}

      Review Checkpoints:
      - {date}: {review type}

      Risks:
      - {risk}: {mitigation}

      Communication cadence:
      - Daily standup: {time}
      - Escalation path: {path}

  kickoff_meeting_prep:
    name: "RFP Kickoff Meeting Prep"
    description: "Prepare RFP kickoff meeting agenda"
    prompt: |
      Context: Preparing RFP response kickoff meeting.
      RFP: {rfp_title}
      Bid decision: {bid_decision}
      Team: {team_members}

      Action: Prepare kickoff agenda covering:
      - RFP overview and analysis
      - Win themes and strategy
      - Assignments and timeline
      - Questions and blockers

      Format:
      RFP Kickoff: {rfp_title}
      Date: {date}
      Attendees: {attendees}

      Agenda (60 min):
      1. RFP Overview (10 min)
         - Customer context
         - Requirements summary
         - Evaluation criteria

      2. Win Strategy (15 min)
         - Win themes
         - Competitive positioning
         - Key differentiators

      3. Assignments (20 min)
         - Section ownership
         - Timeline review
         - Dependencies

      4. Questions & Blockers (15 min)
         - Open questions
         - Resource needs
         - Risk identification

      Pre-read materials:
      - {list of documents}

  progress_tracking:
    name: "RFP Progress Tracking"
    description: "Track RFP response progress and risks"
    prompt: |
      Context: Tracking progress on RFP response.
      RFP: {rfp_title}
      Due: {due_date}
      Days remaining: {days}
      Section status: {status_by_section}

      Action: Assess progress and identify risks:
      - Overall completion status
      - Sections at risk
      - Blockers to resolve
      - Actions needed

      Format:
      RFP Progress Report: {rfp_title}
      Days to deadline: {days}

      Overall Status: {GREEN/YELLOW/RED}
      Completion: {%}

      Section Status:
      | Section | Status | Owner | Notes |
      |---------|--------|-------|-------|
      | {section} | {complete/in_progress/at_risk/blocked} | {owner} | {notes} |

      At Risk:
      - {section}: {why at risk}

      Blockers:
      - {blocker}: Owner: {who} | Action: {what}

      Actions for next 24 hours:
      - {action 1}

      Escalations needed:
      - {if any}

# ============================================================================
# QUALITY ASSURANCE PROMPTS
# ============================================================================
quality:

  compliance_review:
    name: "Compliance Review"
    description: "Review response for requirement compliance"
    prompt: |
      Context: Reviewing RFP response for compliance.
      RFP: {rfp_title}
      Response: {response_sections}
      Requirements: {requirements_list}

      Action: Verify compliance:
      - All mandatory requirements addressed
      - Compliance statements clear
      - No TBDs in final response
      - Evidence cited for claims

      Format:
      Compliance Review: {rfp_title}

      Mandatory Requirements:
      | Req ID | Addressed | Compliant | Notes |
      |--------|-----------|-----------|-------|
      | {id} | YES/NO | YES/PARTIAL/NO | {notes} |

      Issues Found:
      - {issue 1}

      Missing Responses:
      - {requirement not addressed}

      Compliance Score: {x}/{total} mandatory requirements met

      Recommendation:
      - {APPROVE / REVISE with specific changes needed}

  quality_review:
    name: "Response Quality Review"
    description: "Review response for quality and impact"
    prompt: |
      Context: Quality review of RFP response.
      Response: {response_sections}
      Win themes: {win_themes}

      Action: Review response quality:
      - Answers address actual questions
      - Win themes visible, not buried
      - Proof points cited (not just claims)
      - Consistent voice and terminology
      - No jargon or vague statements

      Format:
      Quality Review: {rfp_title}

      Overall Quality: {score}/10

      Strengths:
      - {what's working well}

      Improvement Areas:
      - {section}: {issue} - {recommendation}

      Win Theme Visibility:
      - Theme 1: {visible/buried/missing}

      Language Issues:
      - {vague statement}: {suggested revision}

      Formatting:
      - {any formatting issues}

      Recommendation:
      - {APPROVE / MINOR REVISIONS / MAJOR REVISIONS}

  pre_submission_checklist:
    name: "Pre-Submission Checklist"
    description: "Final checklist before RFP submission"
    prompt: |
      Context: Final review before RFP submission.
      RFP: {rfp_title}
      Response package: {response_files}
      Submission method: {method}

      Action: Complete final checklist:
      - All sections complete
      - Formatting requirements met
      - Attachments included
      - Pricing approved
      - Executive summary reviewed

      Format:
      Pre-Submission Checklist: {rfp_title}
      Submission deadline: {deadline}

      Content Completeness:
      - [ ] All mandatory requirements addressed
      - [ ] All sections complete
      - [ ] No TBD or placeholder text
      - [ ] Executive summary finalized

      Approvals:
      - [ ] Executive summary: {approver}
      - [ ] Pricing: {approver}
      - [ ] Legal terms: {approver}

      Formatting:
      - [ ] Page limits met
      - [ ] Font/format requirements
      - [ ] Attachment naming conventions
      - [ ] File size limits

      Submission Package:
      - [ ] {file 1}
      - [ ] {file 2}

      Submission:
      - [ ] Method: {method}
      - [ ] Confirmation receipt planned

      Status: READY TO SUBMIT / BLOCKERS EXIST
      Blockers: {if any}

# ============================================================================
# POST-SUBMISSION PROMPTS
# ============================================================================
post_submission:

  submission_confirmation:
    name: "Submission Confirmation"
    description: "Document successful RFP submission"
    prompt: |
      Context: RFP response submitted.
      RFP: {rfp_title}
      Customer: {customer_name}
      Submission date: {date}

      Action: Document submission and plan follow-up.

      Format:
      Submission Confirmation

      RFP: {rfp_title}
      Customer: {customer_name}
      Submitted: {date} {time}
      Method: {submission_method}
      Confirmation: {receipt/reference number}

      Response Team:
      - {role}: {name}

      Key Win Themes:
      - {theme 1}

      Next Steps:
      - Expected evaluation timeline: {timeline}
      - Presentation/demo date: {if known}
      - Follow-up actions: {actions}

      Lessons Learned (preliminary):
      - What worked: {observation}
      - Improve next time: {observation}

  win_loss_analysis:
    name: "Win/Loss Analysis"
    description: "Analyze RFP outcome for learnings"
    prompt: |
      Context: RFP outcome received.
      RFP: {rfp_title}
      Outcome: {WIN/LOSS}
      Feedback: {customer_feedback}

      Action: Analyze outcome for learnings:
      - What drove the decision?
      - What did we do well?
      - What could we improve?
      - What patterns do we see?

      Format:
      Win/Loss Analysis: {rfp_title}
      Outcome: {WIN/LOSS}

      Customer Feedback:
      - {key feedback points}

      What Drove the Decision:
      - {primary factors}

      Our Performance:
      Strengths:
      - {what we did well}

      Improvement Areas:
      - {where we fell short}

      Competitive Analysis:
      - Winner (if loss): {competitor}
      - Their advantage: {what they did better}

      Learnings for Future:
      - {actionable learning 1}

      Process Improvements:
      - {process change to make}

      Apply to Active RFPs:
      - {specific application}
