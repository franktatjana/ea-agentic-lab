# Playbook Threshold Configuration
# Centralized parameters for playbook decision logic

# ==============================================================================
# GLOBAL THRESHOLDS (Applied across multiple playbooks)
# ==============================================================================
global_thresholds:
  # Account classification
  minimum_account_arr: 500000           # $500K - minimum for strategic frameworks
  strategic_account_arr: 2000000        # $2M - requires executive-level governance
  enterprise_account_arr: 5000000       # $5M - tier-1 strategic account

  # Timeline thresholds
  early_stage_days: 90                  # First 90 days = insufficient data
  renewal_warning_days_critical: 30     # < 30 days = immediate action
  renewal_warning_days_high: 60         # < 60 days = high priority
  renewal_warning_days_medium: 90       # < 90 days = monitor closely

  # Risk severity triggers
  high_risk_count_threshold: 2          # >= 2 high risks = escalation
  medium_risk_count_threshold: 3        # >= 3 medium risks = review

  # Usage trends
  usage_decline_warning: -0.15          # -15% = warning
  usage_decline_critical: -0.30         # -30% = critical

# ==============================================================================
# PLAYBOOK-SPECIFIC THRESHOLDS
# ==============================================================================

# PB_001 - Three Horizons of Growth
PB_001_three_horizons:
  # Horizon concentration
  horizon_1_concentration_max: 0.80     # H1 > 80% of total = over-concentrated
  horizon_1_concentration_warning: 0.70 # H1 > 70% = warning

  # Horizon 2 pipeline requirements
  horizon_2_pipeline_min_absolute: 500000  # $500K minimum
  horizon_2_pipeline_min_ratio: 0.30       # H2 >= 30% of current ARR

  # Account minimums
  account_minimum_arr: 500000           # Skip playbook if < $500K
  insufficient_data_days: 90            # Skip if < 90 days relationship

# PB_002 - Ansoff Matrix
PB_002_ansoff:
  # Penetration metrics
  penetration_rate_healthy: 0.60        # >= 60% penetration = healthy
  penetration_rate_warning: 0.30        # < 30% penetration = underutilized

  # Product coverage
  product_coverage_strong: 0.70         # >= 70% of relevant products deployed
  product_coverage_warning: 0.40        # < 40% = expansion opportunity

  # Market coverage
  market_coverage_strong: 0.60          # >= 60% of BUs/regions covered
  market_coverage_warning: 0.30         # < 30% = expansion potential

# PB_003 - BCG Matrix
PB_003_bcg:
  # Portfolio balance
  cash_cow_min_arr_percentage: 0.60     # Cash Cows should be >= 60% of ARR
  stars_min_count: 1                    # At least 1 Star required

  # Growth rate thresholds
  high_growth_rate: 0.20                # >= 20% YoY = high growth
  low_growth_rate: 0.05                 # < 5% YoY = low growth

  # Market share thresholds
  high_market_share: 0.60               # >= 60% share = high
  low_market_share: 0.30                # < 30% share = low

# PB_201 - SWOT Analysis
PB_201_swot:
  # Minimum entries per quadrant
  min_strengths: 1
  min_weaknesses: 1
  min_opportunities: 1
  min_threats: 1

  # Threat + weakness combination triggers
  high_threat_count: 2                  # >= 2 high threats = defensive posture
  low_strength_count: 2                 # <= 2 strengths + high threats = risk

# PB_202 - PESTLE Analysis
PB_202_pestle:
  # Coverage requirements
  min_factors_documented: 4             # At least 4/6 PESTLE factors documented
  compliance_critical: true             # Legal factor always required

# PB_301 - Value Engineering
PB_301_value_engineering:
  # ROI thresholds
  strong_roi_percentage: 3.0            # 300% ROI = strong case
  acceptable_roi_percentage: 2.0        # 200% ROI = acceptable
  weak_roi_percentage: 1.5              # < 150% ROI = weak

  # Payback period
  fast_payback_months: 12               # <= 12 months = fast
  acceptable_payback_months: 24         # <= 24 months = acceptable
  slow_payback_months: 36               # > 36 months = concerning

  # Deal size triggers
  strategic_deal_arr: 2000000           # >= $2M = strategic tier
  business_case_required_arr: 500000    # >= $500K = business case mandatory
  minimal_deal_arr: 100000              # < $100K = skip business case

# PB_401 - Customer Health Score
PB_401_health:
  # Health score brackets
  health_score_red_max: 50              # < 50 = RED (critical)
  health_score_yellow_min: 50           # 50-69 = YELLOW (at-risk)
  health_score_green_min: 70            # >= 70 = GREEN (healthy)

  # Usage thresholds
  usage_decline_warning: -0.15          # -15% over 30 days = warning
  usage_decline_critical: -0.30         # -30% over 30 days = critical

  # Support thresholds
  high_severity_cases_warning: 2        # >= 2 high-severity cases = concern
  escalation_threshold: 1               # >= 1 escalation = red flag

  # Renewal timing
  renewal_warning_days: 90              # < 90 days + yellow/red = escalate
  renewal_critical_days: 30             # < 30 days + red = emergency

  # Dimension weights (must sum to 1.0)
  weight_product_usage: 0.40
  weight_relationship: 0.30
  weight_support: 0.15
  weight_business_outcomes: 0.15

# PB_101 - TOGAF ADR
PB_101_togaf:
  # No numeric thresholds (qualitative decision documentation)

# PB_701 - Porter's Five Forces
PB_701_five_forces:
  # No numeric thresholds (qualitative competitive analysis)

# ==============================================================================
# THRESHOLD VERSIONING
# ==============================================================================
# When changing thresholds:
# 1. Document rationale in git commit
# 2. Update last_modified date
# 3. Consider A/B testing for major changes

metadata:
  last_modified: "2026-01-11"
  version: "1.0"
  notes: "Initial threshold baseline, subject to tuning based on usage"
