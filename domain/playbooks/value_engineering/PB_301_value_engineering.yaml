# PLAYBOOK: Value Engineering & Business Case Development
# Framework operationalization for AI agents

# ==============================================================================
# PLAYBOOK METADATA
# ==============================================================================
framework_name: "Value Engineering"
framework_source: "SAVE International (Society of American Value Engineers)"
intended_agent_role: "AE Agent (primary), SA Agent (technical validation)"
secondary_agents: ["SA Agent provides technical metrics", "Specialist provides domain-specific value drivers"]

primary_objective: "Quantify business value and ROI to justify investment decisions, build executive-level business cases with financial models"

when_not_to_use:
  - "Proof-of-concept phase (too early for financial modeling)"
  - "Account < $100K opportunity (overhead exceeds value)"
  - "Customer explicitly rejects financial analysis approach"
  - "No baseline metrics available (cannot calculate improvement)"

# ==============================================================================
# TRIGGER CONDITIONS
# ==============================================================================
trigger_conditions:
  automatic:
    - "Deal stage advanced to Business Case (Stage 4 in sales process)"
    - "CFO or procurement added as stakeholder"
    - "Customer requests ROI analysis or business justification"
    - "Competitive evaluation entered (need differentiated value story)"
    - "Deal size > $500K ARR (business case mandatory)"

  manual:
    - "AE requests business case for executive presentation"
    - "Customer champion needs ammunition to sell internally"
    - "Budget approval process requires financial justification"

  conditional:
    - "IF stakeholder_role == CFO OR Procurement THEN trigger"
    - "IF deal_value > 500000 THEN trigger"
    - "IF competitive_situation == true THEN trigger (value differentiation)"

# ==============================================================================
# VE ENGAGEMENT CRITERIA
# ==============================================================================
ve_engagement_criteria:
  required:
    - "Opportunity ARR > $100K"
    - "Customer willing to share metrics"
    - "Executive sponsor identified"
    - "Clear business objectives"

  preferred:
    - "Current state metrics available"
    - "Multi-stakeholder engagement"
    - "Competitive evaluation"
    - "Strategic account"

  disqualifiers:
    - "Pure technical evaluation only"
    - "No business sponsor"
    - "Customer refuses metric discussion"
    - "Transaction-only relationship"

# ==============================================================================
# DISCOVERY LEVELS
# ==============================================================================
discovery_levels:
  conversational:
    duration: "30 min"
    depth: "Surface"
    use_case: "Initial qualification"
    activities:
      - "Identify primary pain points"
      - "Gauge appetite for value discussion"
      - "Determine if deeper discovery warranted"

  day_in_the_life:
    duration: "2-4 hours"
    depth: "Workflow"
    use_case: "Use case understanding"
    activities:
      - "Shadow key personas through daily tasks"
      - "Map tool interactions and handoffs"
      - "Capture time spent on manual activities"

  focused_session:
    duration: "Half day"
    depth: "Process"
    use_case: "Specific pain points"
    activities:
      - "Deep dive on specific workflow"
      - "Gather baseline metrics"
      - "Identify automation opportunities"

  comprehensive_workshop:
    duration: "1-2 days"
    depth: "Full analysis"
    use_case: "Strategic accounts"
    activities:
      - "Full value stream mapping"
      - "Current state documentation"
      - "Future state design"
      - "Roadmap development"

# ==============================================================================
# VALUE STREAM WORKSHOP STRUCTURE
# ==============================================================================
workshop_structure:
  pre_workshop:
    duration: "1-2 weeks before"
    activities:
      - "Identify key stakeholders"
      - "Send pre-read materials"
      - "Gather current metrics if available"
      - "Define workshop objectives"

  current_state:
    duration: "Half day"
    activities:
      - "Map current workflows"
      - "Identify all tools and handoffs"
      - "Capture pain points"
      - "Measure current metrics"
    outputs:
      - "Current state value stream map"
      - "Tool inventory"
      - "Pain point list with impact"
      - "Baseline metrics"

  future_state:
    duration: "Half day"
    activities:
      - "Design target architecture"
      - "Identify improvement opportunities"
      - "Quantify potential benefits"
      - "Define success metrics"
    outputs:
      - "Future state value stream map"
      - "Improvement opportunities"
      - "Benefit estimates"
      - "Target metrics"

  roadmap:
    duration: "2-4 hours"
    activities:
      - "Prioritize initiatives"
      - "Define phases"
      - "Assign ownership"
      - "Set timeline"
    outputs:
      - "Transformation roadmap"
      - "Phase definitions"
      - "Quick wins identified"
      - "Executive summary"

# ==============================================================================
# VALUE TYPES
# ==============================================================================
value_types:
  hard_savings:
    definition: "Directly measurable cost reductions"
    examples:
      - "Tool consolidation: Replacing multiple tools with {vendor}"
      - "Infrastructure savings: Reduced storage costs"
      - "License reduction: Fewer point solutions"
    measurement: "$ saved per year"

  soft_savings:
    definition: "Productivity and efficiency gains"
    examples:
      - "Time saved: Hours per analyst per week"
      - "Faster resolution: Reduced MTTR"
      - "Automation: Manual tasks eliminated"
    measurement: "Hours saved × loaded cost"

  risk_avoidance:
    definition: "Cost of incidents prevented"
    examples:
      - "Breach prevention: Average breach cost avoided"
      - "Downtime prevention: Revenue protected"
      - "Compliance: Fines avoided"
    measurement: "Probability × Impact"

  revenue_enablement:
    definition: "Business outcomes enabled"
    examples:
      - "Faster time to market"
      - "New capabilities enabled"
      - "Customer experience improvement"
    measurement: "Revenue impact"

# ==============================================================================
# METRICS TEMPLATES
# ==============================================================================
metrics_templates:
  operational:
    - metric: "Mean Time to Detect (MTTD)"
      fields: [current, target, improvement_percentage]
      unit: "minutes/hours"

    - metric: "Mean Time to Resolve (MTTR)"
      fields: [current, target, improvement_percentage]
      unit: "minutes/hours"

    - metric: "Query response time"
      fields: [current, target, improvement_percentage]
      unit: "seconds/milliseconds"

  efficiency:
    - metric: "Analyst hours on manual tasks"
      fields: [current_hours_per_week, target_hours_per_week, hourly_rate]
      calculation: "hours_saved × rate × 52"

    - metric: "Tools managed"
      fields: [current_count, target_count, cost_per_tool]
      calculation: "tools_reduced × (license + ops costs)"

    - metric: "Data silos"
      fields: [current_count, target_count, correlation_time_hours]
      calculation: "time_saved × hourly_rate"

  business:
    - metric: "Incidents per month"
      fields: [current_count, target_count, cost_per_incident]
      calculation: "incidents_reduced × cost_per_incident × 12"

    - metric: "Compliance audit time"
      fields: [current_hours, target_hours, hourly_rate]
      calculation: "hours_saved × rate"

    - metric: "Onboarding time"
      fields: [current_days, target_days, new_hires_per_year]
      calculation: "days_saved × daily_productivity_value × hires"

# ==============================================================================
# REQUIRED INPUTS
# ==============================================================================
required_inputs:
  mandatory:
    - artifact: "infohub/{realm}/{node}/overview.md"
    - artifact: "Opportunity details (ARR, timeline, products)"
    - artifact: "Current state metrics (baseline)"
      examples: ["Current infrastructure costs", "FTE hours spent", "Incident count", "Search response times"]
    - artifact: "Customer's stated business objectives"

  optional:
    - artifact: "infohub/{realm}/{node}/competitive/*.md"
      use: "Competitive cost comparison"
    - artifact: "Similar customer case studies"
      use: "Benchmark value metrics"
    - artifact: "Product pricing and packaging"
      use: "Accurate cost modeling"
    - artifact: "Customer's budget constraints"
      use: "Payback period target"

  minimum_data_threshold:
    - "At least 1 quantifiable baseline metric (cost, time, volume)"
    - "At least 1 measurable improvement target"
    - "Confirmed pricing and contract terms"

# ==============================================================================
# KEY QUESTIONS TO EXTRACT
# ==============================================================================
key_questions:
  baseline_current_state:
    - "What are current infrastructure costs (servers, licenses, cloud spend) related to problem domain?"
    - "How many FTE hours per week/month are spent on manual tasks that could be automated?"
    - "What is current incident volume and MTTR (mean time to repair/resolve)?"
    - "What are documented performance issues (slow queries, downtime, latency)?"
    - "What revenue is at risk due to current limitations (lost customers, delayed launches)?"

  future_state_with_solution:
    - "What infrastructure consolidation is possible (decommission X, migrate from Y)?"
    - "What automation opportunities exist (reduce manual work from X hours to Y hours)?"
    - "What performance improvements are targeted (search latency from X to Y, uptime from X to Y)?"
    - "What new revenue opportunities are enabled (faster time-to-market, new capabilities)?"
    - "What risk reduction is achieved (compliance, security, resilience)?"

  financial_parameters:
    - "What is customer's annual IT budget for this domain?"
    - "What is acceptable payback period (12 months, 24 months, 36 months)?"
    - "What is cost of downtime per hour?"
    - "What is average fully-loaded cost per FTE (engineer, analyst, operator)?"
    - "What discount rate should be used for NPV calculation?"

  value_drivers_by_category:
    - "Cost Savings: What costs are reduced or avoided (infrastructure, licenses, labor)?"
    - "Cost Avoidance: What future costs are prevented (scaling current approach, tech debt)?"
    - "Productivity Gains: What time is freed up for higher-value work?"
    - "Revenue Impact: What revenue is protected or generated?"
    - "Risk Mitigation: What financial exposure is reduced (breaches, outages, compliance fines)?"

# ==============================================================================
# DECISION LOGIC
# ==============================================================================
decision_logic:
  rules:
    # Strong ROI case
    - condition: "calculated_roi >= 300% AND payback_period_months <= 12"
      output_type: "Decision + Initiative"
      decision: |
        CREATE Decision:
          title: "Compelling financial case for {node}"
          context: "ROI ≥300% with <12 month payback, strong executive justification"
          decision: "Advance to CFO/procurement presentation with full business case"
          actions:
            - "Schedule CFO briefing with business case deck"
            - "Prepare executive summary (1-page) highlighting financial benefits"
            - "Request reference customer with similar value profile"
          stakeholders: ["AE", "Executive Sponsor", "CFO"]

        CREATE Initiative:
          title: "Executive business case presentation for {node}"
          owner: "AE"
          timeline: "Within 2 weeks"

    # Marginal ROI, needs strengthening
    - condition: "calculated_roi < 200% OR payback_period_months > 24"
      severity: "MEDIUM"
      output_type: "Risk + Initiative"
      decision: |
        CREATE Risk:
          title: "Weak financial justification for {node}"
          severity: "MEDIUM"
          category: "commercial"
          description: "ROI below 200% or payback >24 months, may face budget resistance"

        CREATE Initiative:
          title: "Strengthen value narrative for {node}"
          actions:
            - "Identify additional value drivers (risk mitigation, strategic value)"
            - "Engage specialist to validate technical assumptions"
            - "Benchmark against similar customer outcomes"
            - "Consider phased approach to reduce upfront investment"

    # Missing baseline metrics
    - condition: "baseline_metrics_available == false"
      severity: "HIGH"
      output_type: "Decision"
      decision: |
        CREATE Decision:
          title: "Cannot build business case without baseline metrics"
          context: "Insufficient current state data to calculate value"
          decision: "Pause business case development, conduct discovery workshop"
          actions:
            - "Schedule value discovery session with customer stakeholders"
            - "Create baseline metrics collection plan"
            - "Engage SA Agent to extract technical metrics"
          blockers: ["Missing baseline costs", "No FTE time data", "No performance metrics"]

    # High-value strategic deal
    - condition: "deal_value > 2000000 OR strategic_account == true"
      output_type: "Initiative"
      decision: |
        CREATE Initiative:
          title: "Executive-tier business case for strategic account {node}"
          actions:
            - "Engage {vendor} executive sponsor for co-presentation"
            - "Build 3-year TCO model with sensitivity analysis"
            - "Include strategic value (beyond financial ROI): platform consolidation, future-readiness"
            - "Prepare CFO-level presentation deck"
            - "Request professional services support for value engineering workshop"

# ==============================================================================
# EXPECTED OUTPUTS
# ==============================================================================
expected_outputs:
  primary_artifact:
    path: "infohub/{realm}/{node}/value_value_analysis_{YYYY-MM-DD}.md"
    format: "markdown"
    sections:
      - executive_summary
      - current_state_baseline
      - future_state_with_platform
      - value_drivers_quantified
      - financial_model
      - risk_adjusted_roi
      - implementation_costs
      - payback_analysis
      - sensitivity_analysis
      - recommendations

    schema:
      executive_summary:
        - total_3yr_benefit: "number (USD)"
        - total_3yr_cost: "number (USD)"
        - net_value: "number (USD)"
        - roi_percentage: "number"
        - payback_period_months: "number"
        - key_value_drivers: "array[string]"

      baseline_current_state:
        - infrastructure_annual_cost: "number"
        - labor_annual_cost: "number (FTE hours * hourly rate)"
        - incident_cost_annual: "number"
        - performance_impact_cost: "number|null"
        - total_baseline_cost: "number"
        - source: "array[citations]"

      future_state_platform:
        - platform_annual_subscription: "number"
        - infrastructure_savings: "number (from consolidation)"
        - labor_savings: "number (from automation)"
        - performance_improvement_value: "number|null"
        - risk_mitigation_value: "number|null"
        - revenue_impact: "number|null"
        - net_annual_benefit: "number"

      financial_model:
        - year_1_cost: "number"
        - year_1_benefit: "number"
        - year_1_net: "number"
        - year_2_cost: "number"
        - year_2_benefit: "number"
        - year_2_net: "number"
        - year_3_cost: "number"
        - year_3_benefit: "number"
        - year_3_net: "number"
        - cumulative_3yr_net: "number"
        - npv: "number (if discount rate provided)"

      payback_analysis:
        - payback_period_months: "number"
        - break_even_month: "string (e.g., Month 14)"

      sensitivity_analysis:
        - conservative_case: "object {roi, payback}"
        - base_case: "object {roi, payback}"
        - optimistic_case: "object {roi, payback}"

  decision_objects:
    path: "infohub/{realm}/{node}/decisions/"
    create_if:
      - "Strong ROI case (advance to CFO)"
      - "Weak ROI case (strengthen value narrative)"
      - "Missing baseline (pause for discovery)"
    template: "ADR format"

  risk_objects:
    path: "infohub/{realm}/{node}/risks/"
    create_if:
      - "Weak financial justification (ROI <200%)"
      - "Payback period exceeds customer threshold"
      - "Assumptions not validated"
    template: "Risk with mitigation plan"

  initiative_objects:
    path: "infohub/{realm}/{node}/initiatives/"
    create_if:
      - "Executive business case presentation"
      - "Value discovery workshop"
      - "Strengthen value narrative"
    template: "Initiative with actions, owner, timeline"

  presentation_artifacts:
    path: "infohub/{realm}/{node}/value/"
    files:
      - "{node}_business_case_executive_summary.md" # 1-page CFO brief
      - "{node}_business_case_full.md" # Detailed analysis
      - "{node}_financial_model.md" # 3-year table

  notifications:
    - recipient: "Account Executive"
      condition: "always"
      message: "Business case analysis complete for {node}: ROI {roi}%, payback {payback_months} months"

    - recipient: "Sales Leadership"
      condition: "roi < 200% OR payback_period_months > 24"
      message: "Weak business case for {node} - review required before CFO presentation"

    - recipient: "Executive Sponsor"
      condition: "deal_value > 2000000"
      message: "Strategic business case for {node} - executive co-presentation requested"

# ==============================================================================
# STOP CONDITIONS
# ==============================================================================
stop_conditions:
  escalate_to_human:
    - condition: "no_baseline_metrics_available"
      reason: "Cannot calculate value without current state data"
      action: "AE must conduct value discovery workshop before business case development"

    - condition: "negative_roi OR payback_period_months > 36"
      reason: "Business case does not meet financial thresholds"
      action: "Escalate to Sales Leadership - re-evaluate opportunity scope or pricing"

    - condition: "conflicting_assumptions (e.g., customer says infrastructure costs $X but data shows $Y)"
      reason: "Inconsistent data requires human validation"
      action: "AE must validate assumptions with customer stakeholders"

    - condition: "strategic_value_only (no quantifiable financial benefits)"
      reason: "Value case is qualitative, not quantitative"
      action: "Flag as strategic/platform deal, shift narrative from ROI to strategic positioning"

  insufficient_data:
    - "No baseline infrastructure costs"
    - "No FTE time estimates for labor savings"
    - "No performance metrics (if performance improvement is key value driver)"
    - "No pricing/contract terms for cost calculation"

  ambiguity_signals:
    - "Customer cannot provide baseline metrics (may indicate low analytical maturity)"
    - "Value drivers are vague ('better performance', 'improved productivity' without numbers)"
    - "Multiple conflicting business objectives (cost reduction vs. new capabilities)"

  human_judgment_required:
    - "Choosing which value drivers to include (conservative vs. aggressive assumptions)"
    - "Determining discount rate for NPV calculation"
    - "Assigning probability to risk mitigation benefits"
    - "Strategic value weighting (how much to emphasize non-financial benefits)"

# ==============================================================================
# VALIDATION CHECKS
# ==============================================================================
validation_checks:
  pre_execution:
    - "client_id exists in InfoHub"
    - "Opportunity details available (ARR, timeline, products)"
    - "At least 1 baseline metric documented"

  post_execution:
    - "All financial calculations include source citations"
    - "ROI and payback period calculated and reasonable (not 10000% ROI)"
    - "Conservative, base, optimistic cases provided"
    - "Implementation costs included (not just subscription cost)"
    - "All assumptions explicitly documented"

  output_quality:
    - "No unsourced financial claims (cite customer data, benchmarks, or assumptions)"
    - "No placeholder values ('$X', 'TBD', 'to be determined')"
    - "All percentages and dollar amounts formatted consistently"
    - "Financial model balances (sum of line items equals total)"
    - "Payback calculation matches financial model cash flows"

# ==============================================================================
# CALCULATION FORMULAS
# ==============================================================================
calculation_formulas:
  roi_percentage: "(Total 3-Year Benefit - Total 3-Year Cost) / Total 3-Year Cost * 100"
  tco: "Sum of all costs over evaluation period (licensing + infrastructure + personnel + training + opportunity)"
  payback_period_months: "Cumulative months until Net Cash Flow >= 0"
  npv: "SUM(Year_N_Net_Benefit / (1 + discount_rate)^N) for N=1,2,3"
  labor_savings_annual: "FTE_hours_saved_per_week * 52 weeks * hourly_rate"
  infrastructure_savings_annual: "Baseline_infrastructure_cost - Future_infrastructure_cost"
  cost_of_inaction:
    formula: "Current inefficiency × Time × Growth factor"
    components:
      - "Current tool costs continuing"
      - "Productivity loss continuing"
      - "Risk exposure continuing"
      - "Competitive disadvantage"
    presentation: "Doing nothing costs $X over 3 years"

# ==============================================================================
# EXECUTION METADATA
# ==============================================================================
estimated_execution_time: "5-10 minutes (agent) + 30-60 minutes (human review and refinement)"
frequency: "On-demand (triggered by deal stage or stakeholder involvement)"
human_review_required: true
approval_workflow:
  - reviewer: "Account Executive"
    approval_gate: "Validate all assumptions, baseline metrics, customer objectives"
  - reviewer: "SA Agent"
    condition: "technical_assumptions_made == true"
    approval_gate: "Validate technical metrics (performance, infrastructure costs)"
  - reviewer: "Sales Leadership"
    condition: "roi < 200% OR deal_value > 2000000"
    approval_gate: "Approve business case approach and presentation strategy"

last_updated: "2026-01-11"
version: "1.0"
status: "production_ready"
