# Security RFx Response Playbook
# Purpose: Provide expert security input for RFP/RFI/RFQ responses

id: "PB_SEC_002"
name: "Security RFx Response"
version: "1.0"
status: "ACTIVE"

metadata:
  category: "technical"
  framework: "RFx Response"
  team_owner: "specialists"
  specialty: "security"
  description: "Expert security specialist input for RFx technical requirements"

# Domain Evaluation Checklist
evaluation_checklist:
  id: "CL_SEC_001"
  path: "playbooks/specialists/security/checklists/security_evaluation_checklist.yaml"
  usage: "Ensure comprehensive coverage of security evaluation criteria"
  primary_categories:
    - "data_collection"
    - "threat_detection"
    - "investigation"
    - "alerting_response"
    - "reporting"
    - "architecture"

# RACI Definition
raci:
  responsible:
    role: "security_specialist"
    agent: "security_specialist_agent"
    description: "Authors technical security responses"

  accountable:
    role: "rfp_lead"
    human_required: true
    description: "Reviews and approves final responses"

  consulted:
    - role: "solution_architects"
      on_steps: ["architecture_questions", "integration_requirements"]
    - role: "legal_compliance"
      on_steps: ["compliance_certifications", "data_privacy"]

  informed:
    - role: "account_executives"
      notify_on: ["completion", "concerns_identified"]

# Triggers
triggers:
  - event: "rfx_received"
    conditions:
      - "security_section_present == true"
  - event: "specialist_assignment"
    conditions:
      - "assignment_type == 'rfx_security'"

# Inputs
inputs:
  required:
    - name: "rfx_id"
      type: "string"
    - name: "security_requirements"
      type: "list"
      description: "Security-related RFx questions/requirements"
    - name: "deadline"
      type: "datetime"

  optional:
    - name: "customer_context"
      type: "object"
      description: "Background on customer security posture"
    - name: "competitive_context"
      type: "object"
      description: "Known competitive landscape"
    - name: "previous_responses"
      type: "list"
      description: "Relevant previous RFx responses"

# Execution Steps
steps:
  - step_id: "analyze_requirements"
    name: "Analyze Security Requirements"
    action: "parse_and_categorize"
    raci_role: "responsible"
    inputs:
      - "security_requirements"
      - "evaluation_checklist"
    outputs:
      - "categorized_requirements"
      - "checklist_coverage_map"
    categories:
      - "Platform Security" # Security of the platform itself
      - "Detection Capabilities"
      - "Response & Automation"
      - "Compliance & Certifications"
      - "Data Security"
      - "Integration & API"
      - "Reporting & Analytics"
    checklist_mapping:
      "Platform Security": ["SEC_ARCH_001", "SEC_ARCH_002", "SEC_ARCH_003"]
      "Detection Capabilities": ["SEC_TD_001", "SEC_TD_002", "SEC_TD_003", "SEC_TD_004", "SEC_TD_005"]
      "Response & Automation": ["SEC_AR_001", "SEC_AR_002", "SEC_AR_004", "SEC_AR_005"]
      "Compliance & Certifications": ["SEC_RPT_003", "SEC_RPT_004"]
      "Data Security": ["SEC_DC_001", "SEC_DC_007"]
      "Integration & API": ["SEC_UX_004", "SEC_DC_003"]
      "Reporting & Analytics": ["SEC_RPT_001", "SEC_RPT_002"]

  - step_id: "assess_complexity"
    name: "Assess Response Complexity"
    action: "complexity_scoring"
    raci_role: "responsible"
    inputs:
      - "categorized_requirements"
    outputs:
      - "complexity_assessment"
    scoring:
      simple: "Standard capability, boilerplate response"
      moderate: "Requires customization of standard response"
      complex: "Requires SME input or new content"
      critical: "Potential gap or competitive risk"

  - step_id: "draft_responses"
    name: "Draft Security Responses"
    action: "author_responses"
    raci_role: "responsible"
    inputs:
      - "categorized_requirements"
      - "complexity_assessment"
    outputs:
      - "draft_responses"
    response_structure:
      - "compliance_statement" # How we meet the requirement
      - "capability_detail" # Feature/functionality description
      - "differentiator" # Why we're better
      - "evidence" # Documentation, certs, case studies
      - "caveats" # Any limitations (be honest)

  - step_id: "add_evidence"
    name: "Attach Supporting Evidence"
    action: "gather_evidence"
    raci_role: "responsible"
    inputs:
      - "draft_responses"
    outputs:
      - "responses_with_evidence"
    evidence_types:
      - "Product documentation links"
      - "Certification attestations"
      - "Architecture diagrams"
      - "Case study references"
      - "Third-party validation"

  - step_id: "competitive_positioning"
    name: "Add Competitive Positioning"
    action: "competitive_analysis"
    raci_role: "responsible"
    inputs:
      - "responses_with_evidence"
      - "competitive_context"
    outputs:
      - "positioned_responses"
    positioning_elements:
      - "Differentiation points"
      - "Competitive advantages"
      - "Counter-positioning for known weaknesses"

  - step_id: "quality_review"
    name: "Quality Review"
    action: "self_review"
    raci_role: "responsible"
    inputs:
      - "positioned_responses"
    outputs:
      - "reviewed_responses"
    checklist:
      - "All requirements addressed"
      - "Responses are accurate and verifiable"
      - "No overpromises or unsupported claims"
      - "Consistent with other sections"
      - "Professional tone and formatting"

  - step_id: "submit_for_approval"
    name: "Submit for Approval"
    action: "human_review"
    raci_role: "accountable"
    inputs:
      - "reviewed_responses"
    outputs:
      - "approved_responses"

# Output Contract
outputs:
  format: "markdown"
  storage_path: "{realm}/{node}/external-infohub/rfx/{rfx_id}/security_responses.md"
  additional_formats:
    - format: "docx"
      template: "rfx_response_template"
    - format: "xlsx"
      template: "rfx_matrix_template"

  sections:
    - section_id: "response_summary"
      name: "Response Summary"
    - section_id: "requirement_responses"
      name: "Requirement-by-Requirement Responses"
    - section_id: "evidence_index"
      name: "Evidence & Documentation Index"
    - section_id: "differentiators"
      name: "Key Differentiators"

# Response Templates
response_templates:
  full_compliance:
    template: |
      **Compliance:** Fully Supported

      {{capability_description}}

      **Key Features:**
      {{#each features}}
      - {{this}}
      {{/each}}

      **Evidence:** {{evidence_reference}}

  partial_compliance:
    template: |
      **Compliance:** Partially Supported

      {{capability_description}}

      **What's Supported:**
      {{supported_aspects}}

      **Considerations:**
      {{considerations}}

      **Roadmap:** {{roadmap_status}}

  differentiation:
    template: |
      **Compliance:** Fully Supported

      {{capability_description}}

      **Competitive Advantage:**
      Unlike traditional approaches, our platform {{differentiator}}

      **Customer Impact:**
      {{customer_benefit}}
