# Security Solution Scoping Playbook
# Purpose: Scope complete security solution based on customer requirements

id: "PB_SEC_003"
name: "Security Solution Scoping"
version: "1.0"
status: "ACTIVE"
playbook_mode: "GENERATIVE"
playbook_category: "technical_execution"

metadata:
  category: "technical"
  framework: "Solution Design"
  team_owner: "specialists"
  specialty: "security"
  description: "Comprehensive security solution scoping for customer engagements"

# RACI Definition
raci:
  responsible:
    role: "security_specialist"
    agent: "security_specialist_agent"
    description: "Develops solution scope and sizing"

  accountable:
    role: "sa_lead"
    human_required: true
    description: "Approves solution scope"

  consulted:
    - role: "account_executives"
      on_steps: ["budget_alignment", "timeline_constraints"]
    - role: "value_engineering"
      on_steps: ["licensing_model", "cost_optimization"]
    - role: "professional_services"
      on_steps: ["implementation_effort", "resource_planning"]

  informed:
    - role: "management"
      notify_on: ["completion"]

# Triggers
triggers:
  - event: "opportunity_qualified"
    conditions:
      - "solution_type contains 'security'"
  - event: "scoping_requested"

# Inputs
inputs:
  required:
    - name: "customer_id"
      type: "string"
    - name: "security_requirements"
      type: "list"
    - name: "data_volume_estimate"
      type: "object"
      description: "Estimated data volumes by source"

  optional:
    - name: "budget_range"
      type: "object"
    - name: "timeline"
      type: "string"
    - name: "existing_infrastructure"
      type: "object"
    - name: "compliance_requirements"
      type: "list"

# Execution Steps
steps:
  - step_id: "discovery_review"
    name: "Review Discovery Information"
    action: "analyze_inputs"
    raci_role: "responsible"
    inputs:
      - "security_requirements"
      - "existing_infrastructure"
    outputs:
      - "discovery_summary"
    gather:
      - "Current security tools and capabilities"
      - "Pain points and drivers"
      - "Success criteria"
      - "Stakeholders and decision makers"

  - step_id: "data_assessment"
    name: "Assess Data Requirements"
    action: "data_analysis"
    raci_role: "responsible"
    inputs:
      - "data_volume_estimate"
    outputs:
      - "data_assessment"
    assess:
      - source: "Log sources and types"
      - volume: "Daily ingestion volume (GB/day)"
      - retention: "Retention requirements by type"
      - compliance: "Data handling requirements"

  - step_id: "use_case_mapping"
    name: "Map Use Cases to Solution"
    action: "use_case_analysis"
    raci_role: "responsible"
    inputs:
      - "security_requirements"
    outputs:
      - "use_case_map"
    categories:
      - "Threat Detection"
      - "Incident Response"
      - "Compliance Monitoring"
      - "Security Analytics"
      - "Automation & Orchestration"

  - step_id: "architecture_design"
    name: "Design Solution Architecture"
    action: "architecture_design"
    raci_role: "responsible"
    inputs:
      - "data_assessment"
      - "use_case_map"
    outputs:
      - "solution_architecture"
    components:
      - "Data collection tier"
      - "Processing and analytics tier"
      - "Storage tier"
      - "Visualization and response tier"
      - "Integration points"

  - step_id: "sizing_calculation"
    name: "Calculate Sizing & Licensing"
    action: "sizing"
    raci_role: "responsible"
    inputs:
      - "data_assessment"
      - "solution_architecture"
    outputs:
      - "sizing_specification"
    sizing_factors:
      - "Ingestion capacity"
      - "Storage requirements"
      - "Query/search performance"
      - "User concurrency"
      - "Retention periods"

  - step_id: "integration_planning"
    name: "Plan Integrations"
    action: "integration_analysis"
    raci_role: "responsible"
    inputs:
      - "existing_infrastructure"
      - "solution_architecture"
    outputs:
      - "integration_plan"
    integration_types:
      - "Data source integrations"
      - "SOAR/ticketing integrations"
      - "Identity provider integration"
      - "API integrations"

  - step_id: "implementation_estimate"
    name: "Estimate Implementation"
    action: "effort_estimation"
    raci_role: "responsible"
    inputs:
      - "solution_architecture"
      - "integration_plan"
    outputs:
      - "implementation_estimate"
    phases:
      - "Phase 1: Foundation"
      - "Phase 2: Core Use Cases"
      - "Phase 3: Advanced Capabilities"
      - "Phase 4: Optimization"

  - step_id: "risk_assessment"
    name: "Identify Risks"
    action: "risk_analysis"
    raci_role: "responsible"
    inputs:
      - "solution_architecture"
      - "implementation_estimate"
    outputs:
      - "risk_register"
    risk_categories:
      - "Technical risks"
      - "Resource risks"
      - "Timeline risks"
      - "Integration risks"

  - step_id: "create_scope_document"
    name: "Create Scope Document"
    action: "document_creation"
    raci_role: "responsible"
    inputs:
      - "all_previous_outputs"
    outputs:
      - "scope_document"

  - step_id: "stakeholder_review"
    name: "Stakeholder Review"
    action: "human_review"
    raci_role: "accountable"
    inputs:
      - "scope_document"
    outputs:
      - "approved_scope"

# Output Contract
outputs:
  format: "markdown"
  storage_path: "{realm}/{node}/external-infohub/specialists/security/scope_{date}.md"
  sections:
    - section_id: "executive_summary"
      name: "Executive Summary"
    - section_id: "requirements_summary"
      name: "Requirements Summary"
    - section_id: "solution_architecture"
      name: "Solution Architecture"
    - section_id: "sizing_specification"
      name: "Sizing & Licensing"
    - section_id: "integration_requirements"
      name: "Integration Requirements"
    - section_id: "implementation_roadmap"
      name: "Implementation Roadmap"
    - section_id: "risks_assumptions"
      name: "Risks & Assumptions"
    - section_id: "success_criteria"
      name: "Success Criteria"
