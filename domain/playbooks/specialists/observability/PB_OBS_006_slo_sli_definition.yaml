# SLO/SLI Definition Playbook

id: "PB_OBS_006"
name: "SLO/SLI Definition"
version: "1.0"
status: "ACTIVE"

metadata:
  category: "technical"
  framework: "SRE Practices"
  team_owner: "specialists"
  specialty: "observability"
  description: "Define and implement Service Level Objectives and Indicators"

raci:
  responsible:
    role: "observability_specialist"
    agent: "observability_specialist_agent"
  accountable:
    role: "sa_lead"
    human_required: true
  consulted:
    - role: "customer_sre_team"
    - role: "customer_product_owners"
  informed:
    - role: "solution_architects"

triggers:
  - event: "slo_definition_requested"
  - event: "reliability_improvement"
  - event: "new_service_onboarding"

inputs:
  required:
    - name: "services"
      type: "list"
    - name: "business_requirements"
      type: "object"
    - name: "user_journeys"
      type: "list"
  optional:
    - name: "existing_slos"
    - name: "historical_metrics"
    - name: "incident_history"

steps:
  - step_id: "identify_critical_journeys"
    name: "Identify Critical User Journeys"
    outputs: ["critical_journeys"]
    journey_analysis:
      - "Map user-facing workflows"
      - "Identify critical paths"
      - "Determine business impact"
      - "Prioritize by importance"

  - step_id: "define_slis"
    name: "Define Service Level Indicators"
    outputs: ["sli_definitions"]
    sli_types:
      availability:
        description: "Proportion of successful requests"
        formula: "successful_requests / total_requests"
      latency:
        description: "Proportion of requests faster than threshold"
        formula: "fast_requests / total_requests"
      throughput:
        description: "Rate of successful operations"
        formula: "operations_per_second"
      error_rate:
        description: "Proportion of failed requests"
        formula: "failed_requests / total_requests"
      freshness:
        description: "Proportion of data updated within threshold"
        formula: "fresh_data / total_data"

  - step_id: "set_slo_targets"
    name: "Set SLO Targets"
    outputs: ["slo_targets"]
    considerations:
      - "Business requirements"
      - "Historical performance"
      - "User expectations"
      - "Cost of reliability"
      - "Error budget allocation"

  - step_id: "implement_measurement"
    name: "Implement SLI Measurement"
    outputs: ["measurement_spec"]
    implementation:
      - "Instrumentation requirements"
      - "Data collection points"
      - "Aggregation windows"
      - "Calculation logic"

  - step_id: "create_error_budgets"
    name: "Create Error Budget Policies"
    outputs: ["error_budget_policy"]
    policy_elements:
      - "Error budget calculation"
      - "Burn rate alerts"
      - "Escalation procedures"
      - "Budget exhaustion actions"

  - step_id: "build_slo_dashboards"
    name: "Build SLO Dashboards"
    outputs: ["slo_dashboards"]
    dashboard_components:
      - "SLO status overview"
      - "Error budget remaining"
      - "Burn rate trending"
      - "Historical compliance"

  - step_id: "document_slos"
    name: "Document SLOs"
    outputs: ["slo_documentation"]

outputs:
  format: "yaml"
  storage_path: "{realm}/{node}/external-infohub/specialists/observability/slo_{date}.yaml"
  sections:
    - "SLO Summary"
    - "User Journey Mapping"
    - "SLI Definitions"
    - "SLO Targets"
    - "Error Budget Policies"
    - "Implementation Guide"
    - "Dashboard Specifications"
