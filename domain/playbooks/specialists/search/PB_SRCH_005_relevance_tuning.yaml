# Search Relevance Tuning Playbook

id: "PB_SRCH_005"
name: "Search Relevance Tuning"
version: "1.0"
status: "ACTIVE"

metadata:
  category: "technical"
  framework: "Relevance Engineering"
  team_owner: "specialists"
  specialty: "search"
  description: "Optimize search relevance through systematic tuning"

raci:
  responsible:
    role: "search_specialist"
    agent: "search_specialist_agent"
  accountable:
    role: "sa_lead"
    human_required: true
  consulted:
    - role: "customer_product_team"
  informed:
    - role: "account_executives"

triggers:
  - event: "relevance_tuning_requested"
  - event: "search_quality_issue"

inputs:
  required:
    - name: "search_use_case"
      type: "string"
    - name: "sample_queries"
      type: "list"
    - name: "relevance_expectations"
      type: "object"
  optional:
    - name: "current_configuration"
    - name: "user_feedback"
    - name: "click_data"

steps:
  - step_id: "baseline_measurement"
    name: "Establish Baseline"
    description: "Measure current relevance performance"
    outputs: ["baseline_metrics"]
    metrics:
      - "nDCG@10"
      - "Precision@5"
      - "Mean Reciprocal Rank (MRR)"
      - "Click-through rate"
      - "Zero results rate"

  - step_id: "query_analysis"
    name: "Analyze Query Patterns"
    outputs: ["query_analysis"]
    analyze:
      - "Query length distribution"
      - "Query intent categories"
      - "Popular queries"
      - "Zero-result queries"
      - "Low-performance queries"

  - step_id: "relevance_diagnosis"
    name: "Diagnose Relevance Issues"
    outputs: ["relevance_diagnosis"]
    diagnose:
      - "Analyzer issues (tokenization, stemming)"
      - "Scoring issues (boosting, field weights)"
      - "Query understanding issues"
      - "Content quality issues"
      - "Schema issues"

  - step_id: "design_tuning"
    name: "Design Tuning Strategy"
    outputs: ["tuning_strategy"]
    tuning_levers:
      - "Field boosting"
      - "Query-time boosting"
      - "Synonyms and query expansion"
      - "Function scoring"
      - "Re-ranking"
      - "Learning to Rank"

  - step_id: "implement_tuning"
    name: "Implement Tuning Changes"
    outputs: ["tuning_implementation"]

  - step_id: "measure_improvement"
    name: "Measure Improvement"
    outputs: ["improvement_metrics"]

  - step_id: "document_results"
    name: "Document Results"
    outputs: ["tuning_report"]

outputs:
  format: "markdown"
  storage_path: "{realm}/{node}/external-infohub/specialists/search/relevance_tuning_{date}.md"
  sections:
    - "Executive Summary"
    - "Baseline Metrics"
    - "Query Analysis"
    - "Diagnosis & Root Causes"
    - "Tuning Strategy"
    - "Implementation Details"
    - "Results & Improvement"
    - "Ongoing Tuning Recommendations"
