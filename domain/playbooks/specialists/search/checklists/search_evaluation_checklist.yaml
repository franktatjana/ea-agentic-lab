# Search Solution Evaluation Checklist
# Domain checklist for Search, Vector Search, and RAG system evaluations

id: "CL_SRCH_001"
name: "Search Solution Evaluation Checklist"
version: "1.1"
specialty: "search"
description: "Comprehensive evaluation criteria for search platforms, vector databases, and retrieval systems"
notes: "Standardizes search platform evaluation so assessments are consistent across engagements"

usage:
  - "RFP/RFI response preparation"
  - "Technical POC planning"
  - "Search platform migrations"
  - "RAG system architecture"
  - "E-commerce search evaluations"

# =============================================================================
# LEARNING CONFIGURATION
# =============================================================================
learning:
  enabled: true

  cross_learning:
    learns_from:
      - checklist: "CL_SEC_001"
        patterns: ["access_control", "audit_logging", "compliance_requirements"]
      - checklist: "CL_OBS_001"
        patterns: ["query_performance_metrics", "dashboard_patterns"]
    teaches_to:
      - checklist: "CL_SEC_001"
        patterns: ["query_language_power", "relevance_tuning"]
      - checklist: "CL_OBS_001"
        patterns: ["log_search_optimization", "aggregation_patterns"]

  internal_sources:
    - type: "deal_outcomes"
      path: "*/external-infohub/outcomes/"
      signals: ["win_loss_reason", "search_differentiators"]
    - type: "field_feedback"
      path: "vault/feedback/search/"
      signals: ["missing_criteria", "relevance_insights"]

  external_sources:
    - name: "OpenSearch Community"
      url: "https://opensearch.org/"
      frequency: "monthly"
      extraction: "feature_evolution"
    - name: "Vector DB Benchmarks"
      url: "https://ann-benchmarks.com/"
      frequency: "quarterly"
      extraction: "performance_baselines"
    - name: "Gartner Insight Engines MQ"
      frequency: "annual"
      extraction: "evaluation_criteria"
    - name: "RAG Research Papers"
      source: "arxiv"
      frequency: "weekly"
      extraction: "emerging_techniques"

  weight_rules:
    update_frequency: "monthly"
    min_data_points: 10
    max_change_per_period: 0.10
    human_review_threshold: 0.15

# =============================================================================
# INDEXING & DATA MANAGEMENT
# =============================================================================
indexing:
  category: "Indexing & Data Management"
  weight: 15

  data_ingestion:
    - id: "SRCH_IDX_001"
      criterion: "Indexing throughput"
      details: "Documents per second indexing capacity"
      evaluation: ["bulk_indexing_rate", "real_time_indexing", "update_performance"]

    - id: "SRCH_IDX_002"
      criterion: "Document format support"
      details: "Native support for various content types"
      evaluation: ["json", "xml", "pdf", "office_docs", "html"]

    - id: "SRCH_IDX_003"
      criterion: "Schema flexibility"
      details: "Dynamic vs. strict schema handling"
      evaluation: ["dynamic_mapping", "schema_evolution", "field_type_coercion"]

  text_analysis:
    - id: "SRCH_IDX_004"
      criterion: "Language analysis"
      details: "Multi-language text processing"
      evaluation: ["languages_supported", "stemming", "lemmatization", "tokenization"]

    - id: "SRCH_IDX_005"
      criterion: "Custom analyzers"
      details: "Ability to create custom text analysis pipelines"
      evaluation: ["tokenizer_options", "filter_chain", "char_filters"]

    - id: "SRCH_IDX_006"
      criterion: "Synonym handling"
      details: "Synonym expansion and management"
      evaluation: ["index_time_vs_query_time", "synonym_graph", "management_api"]

  data_management:
    - id: "SRCH_IDX_007"
      criterion: "Index lifecycle management"
      details: "Automated index rollover and retention"
      evaluation: ["rollover_policies", "retention_automation", "tiered_storage"]

    - id: "SRCH_IDX_008"
      criterion: "Reindexing capability"
      details: "Ability to reindex without downtime"
      evaluation: ["zero_downtime_reindex", "alias_support", "reindex_performance"]

# =============================================================================
# QUERY & RETRIEVAL
# =============================================================================
query_retrieval:
  category: "Query & Retrieval"
  weight: 25

  query_capabilities:
    - id: "SRCH_QRY_001"
      criterion: "Full-text search"
      details: "Core text search functionality"
      evaluation: ["boolean_operators", "phrase_search", "proximity_search", "wildcards"]

    - id: "SRCH_QRY_002"
      criterion: "Query language expressiveness"
      details: "Power and flexibility of query DSL"
      evaluation: ["nested_queries", "scripted_queries", "query_templates"]

    - id: "SRCH_QRY_003"
      criterion: "Fuzzy matching"
      details: "Typo tolerance and approximate matching"
      evaluation: ["edit_distance", "phonetic_matching", "n_gram_support"]

    - id: "SRCH_QRY_004"
      criterion: "Filtering performance"
      details: "Efficient filtering alongside full-text search"
      evaluation: ["filter_cache", "range_queries", "geo_filtering"]

  autocomplete:
    - id: "SRCH_QRY_005"
      criterion: "Search-as-you-type"
      details: "Real-time query suggestions"
      evaluation: ["prefix_completion", "context_suggestion", "popularity_weighting"]

    - id: "SRCH_QRY_006"
      criterion: "Did-you-mean suggestions"
      details: "Spelling correction suggestions"
      evaluation: ["suggestion_quality", "custom_dictionaries", "phrase_suggestions"]

  aggregations:
    - id: "SRCH_QRY_007"
      criterion: "Faceted navigation"
      details: "Aggregation-based filtering options"
      evaluation: ["terms_facets", "range_facets", "nested_facets", "post_filter"]

    - id: "SRCH_QRY_008"
      criterion: "Analytics aggregations"
      details: "Statistical and analytical capabilities"
      evaluation: ["metrics", "bucket_aggregations", "pipeline_aggregations"]

# =============================================================================
# RELEVANCE & RANKING
# =============================================================================
relevance:
  category: "Relevance & Ranking"
  weight: 20

  scoring:
    - id: "SRCH_REL_001"
      criterion: "Default relevance model"
      details: "Out-of-box relevance algorithm"
      evaluation: ["bm25_support", "tf_idf", "field_length_normalization"]

    - id: "SRCH_REL_002"
      criterion: "Custom scoring"
      details: "Ability to customize relevance scoring"
      evaluation: ["function_score", "script_score", "field_boosting"]

    - id: "SRCH_REL_003"
      criterion: "Learning to rank"
      details: "ML-based ranking model support"
      evaluation: ["ltr_plugin", "model_training", "feature_engineering"]

  personalization:
    - id: "SRCH_REL_004"
      criterion: "Personalized results"
      details: "User-specific result ranking"
      evaluation: ["user_context", "behavioral_signals", "a_b_testing"]

    - id: "SRCH_REL_005"
      criterion: "Business rules"
      details: "Merchandising and business logic in ranking"
      evaluation: ["pinned_results", "buried_results", "boost_rules"]

  relevance_tuning:
    - id: "SRCH_REL_006"
      criterion: "Relevance testing tools"
      details: "Tools to measure and improve relevance"
      evaluation: ["judgment_lists", "ndcg_calculation", "a_b_framework"]

    - id: "SRCH_REL_007"
      criterion: "Query analysis tools"
      details: "Understanding why results rank as they do"
      evaluation: ["explain_api", "score_breakdown", "debug_mode"]

# =============================================================================
# VECTOR & SEMANTIC SEARCH
# =============================================================================
vector_search:
  category: "Vector & Semantic Search"
  weight: 20

  vector_capabilities:
    - id: "SRCH_VEC_001"
      criterion: "Vector storage"
      details: "Native dense vector support"
      evaluation: ["dimension_limits", "vector_types", "storage_efficiency"]

    - id: "SRCH_VEC_002"
      criterion: "Similarity algorithms"
      details: "Vector similarity search methods"
      evaluation: ["cosine", "dot_product", "euclidean", "custom_similarity"]

    - id: "SRCH_VEC_003"
      criterion: "ANN algorithm support"
      details: "Approximate nearest neighbor implementations"
      evaluation: ["hnsw", "ivf", "pq", "tuning_options"]

    - id: "SRCH_VEC_004"
      criterion: "Vector search performance"
      details: "Query latency and recall tradeoffs"
      evaluation: ["qps_at_recall", "index_build_time", "memory_requirements"]

  hybrid_search:
    - id: "SRCH_VEC_005"
      criterion: "Hybrid keyword + vector"
      details: "Combining lexical and semantic search"
      evaluation: ["score_fusion", "rrf_support", "weighted_combination"]

    - id: "SRCH_VEC_006"
      criterion: "Filtered vector search"
      details: "Metadata filtering with vector queries"
      evaluation: ["pre_filter", "post_filter", "filter_performance"]

  embeddings:
    - id: "SRCH_VEC_007"
      criterion: "Embedding model integration"
      details: "Support for embedding generation"
      evaluation: ["model_hosting", "inference_pipeline", "model_updates"]

    - id: "SRCH_VEC_008"
      criterion: "Multi-vector support"
      details: "Multiple embeddings per document"
      evaluation: ["late_interaction", "colbert_support", "passage_embeddings"]

# =============================================================================
# PERFORMANCE & SCALABILITY
# =============================================================================
performance:
  category: "Performance & Scalability"
  weight: 10

  query_performance:
    - id: "SRCH_PERF_001"
      criterion: "Query latency"
      details: "Search response time"
      evaluation: ["p50_latency", "p95_latency", "p99_latency"]

    - id: "SRCH_PERF_002"
      criterion: "Throughput"
      details: "Queries per second capacity"
      evaluation: ["qps_at_latency_target", "concurrent_users", "burst_handling"]

    - id: "SRCH_PERF_003"
      criterion: "Large result sets"
      details: "Performance with deep pagination"
      evaluation: ["scroll_api", "search_after", "pit_support"]

  scalability:
    - id: "SRCH_PERF_004"
      criterion: "Horizontal scaling"
      details: "Distributed architecture"
      evaluation: ["sharding", "replication", "auto_scaling"]

    - id: "SRCH_PERF_005"
      criterion: "Index size limits"
      details: "Maximum index size and document count"
      evaluation: ["docs_per_shard", "total_capacity", "shard_limits"]

# =============================================================================
# DEVELOPER EXPERIENCE
# =============================================================================
developer_experience:
  category: "Developer Experience"
  weight: 5

  apis:
    - id: "SRCH_DX_001"
      criterion: "API design"
      details: "REST API quality and consistency"
      evaluation: ["rest_design", "graphql_support", "grpc_support"]

    - id: "SRCH_DX_002"
      criterion: "Client libraries"
      details: "Official SDKs for popular languages"
      evaluation: ["language_coverage", "sdk_quality", "documentation"]

    - id: "SRCH_DX_003"
      criterion: "Query debugging"
      details: "Tools for troubleshooting queries"
      evaluation: ["profile_api", "slow_log", "explain_output"]

  operations:
    - id: "SRCH_DX_004"
      criterion: "Cluster management"
      details: "Administrative tooling"
      evaluation: ["ui_console", "cli_tools", "terraform_support"]

    - id: "SRCH_DX_005"
      criterion: "Monitoring and observability"
      details: "Platform health visibility"
      evaluation: ["metrics_export", "logging", "alerting"]

# =============================================================================
# USE CASE SPECIFIC
# =============================================================================
use_cases:
  category: "Use Case Support"
  weight: 5

  ecommerce:
    - id: "SRCH_UC_001"
      criterion: "Product search features"
      details: "E-commerce specific capabilities"
      evaluation: ["product_ranking", "inventory_awareness", "price_filtering"]

  enterprise:
    - id: "SRCH_UC_002"
      criterion: "Document search"
      details: "Enterprise content search"
      evaluation: ["attachment_extraction", "permission_filtering", "highlighting"]

  rag:
    - id: "SRCH_UC_003"
      criterion: "RAG pipeline support"
      details: "Retrieval-augmented generation readiness"
      evaluation: ["chunking_support", "context_retrieval", "reranking"]
