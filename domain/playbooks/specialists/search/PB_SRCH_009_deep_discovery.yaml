# Search Deep Discovery Session Playbook
# Purpose: Conduct in-depth search discovery with product and engineering teams

id: "PB_SRCH_009"
name: "Search Deep Discovery Session"
version: "1.0"
status: "ACTIVE"
playbook_mode: "ANALYTICAL"
playbook_category: "discovery_investigation"

metadata:
  category: "technical"
  framework: "Search Discovery"
  team_owner: "specialists"
  specialty: "search"
  description: "Deep technical discovery for search use cases with product managers, search engineers, and data teams"
  notes: "Uncovers the full scope of search and data challenges before solutioning to avoid misaligned proposals"

raci:
  responsible:
    role: "search_specialist"
    agent: "search_specialist_agent"
  accountable:
    role: "sa_lead"
    human_required: true
  consulted:
    - role: "solution_architects"
    - role: "account_executives"
  informed:
    - role: "management"

triggers:
  - event: "search_discovery_requested"
  - event: "search_platform_evaluation"
  - event: "rag_project_initiated"

inputs:
  required:
    - name: "customer_id"
      type: "string"
    - name: "discovery_objectives"
      type: "list"
    - name: "customer_attendees"
      type: "list"
  optional:
    - name: "current_search_solution"
    - name: "sample_queries"
    - name: "content_samples"

# Search-Specific Discovery Questions
discovery_framework:
  search_use_case:
    questions:
      - "What type of search experience are you building? (e-commerce, enterprise, knowledge)"
      - "Who are your users and what are they searching for?"
      - "What does a successful search look like for your users?"
      - "How do users interact with search today?"
      - "What's the business impact of search quality?"

  content_and_data:
    questions:
      - "What types of content are you indexing?"
      - "How many documents/items are in your corpus?"
      - "How frequently does content change?"
      - "What metadata is available for each document?"
      - "Are there multiple languages?"
      - "Do you have structured, unstructured, or both?"

  current_search:
    questions:
      - "What search solution are you using today?"
      - "What works well? What doesn't?"
      - "How do you measure search quality today?"
      - "What's your zero-results rate?"
      - "Top queries that don't perform well?"

  relevance_requirements:
    questions:
      - "How do you define relevance for your use case?"
      - "What factors should influence ranking?"
      - "Do you need personalization?"
      - "How important is exact match vs. semantic match?"
      - "Do you need to boost/bury based on business rules?"

  semantic_and_vector:
    questions:
      - "Are you interested in semantic/AI-powered search?"
      - "Do you have use cases for similarity search?"
      - "Are you building or planning RAG applications?"
      - "Do you have embedding models or need recommendations?"

  scale_and_performance:
    questions:
      - "What's your expected query volume (QPS)?"
      - "What latency is acceptable?"
      - "What's your indexing velocity requirement?"
      - "Geographic distribution of users?"

steps:
  - step_id: "pre_session_research"
    name: "Pre-Session Research"
    outputs: ["customer_search_profile"]
    research_areas:
      - "Customer's product/application"
      - "Current search experience (if public)"
      - "Industry search benchmarks"
      - "Competitive search experiences"

  - step_id: "conduct_discovery"
    name: "Conduct Search Discovery"
    outputs: ["discovery_notes"]
    session_structure:
      - phase: "Use Case Overview (15 min)"
        focus: "Search application and user needs"
      - phase: "Content Deep Dive (15 min)"
        focus: "Data types, volumes, structure"
      - phase: "Relevance Requirements (20 min)"
        focus: "What good looks like, ranking factors"
      - phase: "Technical Requirements (15 min)"
        focus: "Scale, performance, integrations"
      - phase: "AI/Semantic Needs (10 min)"
        focus: "Vector search, RAG, ML"

  - step_id: "analyze_findings"
    name: "Analyze Search Findings"
    outputs: ["search_assessment"]
    analysis_areas:
      - "Search complexity assessment"
      - "Relevance strategy recommendation"
      - "Schema design considerations"
      - "Vector/hybrid search applicability"
      - "Performance requirements"

  - step_id: "document_requirements"
    name: "Document Search Requirements"
    outputs: ["requirements_document"]

outputs:
  format: "markdown"
  storage_path: "{realm}/{node}/external-infohub/specialists/search/discovery_{date}.md"
  sections:
    - "Executive Summary"
    - "Search Use Case"
    - "Content & Data Analysis"
    - "Relevance Requirements"
    - "Semantic/Vector Needs"
    - "Scale & Performance"
    - "Recommendations"
    - "Next Steps"
