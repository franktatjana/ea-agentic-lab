# PLAYBOOK: Technology Trend Response
# Framework operationalization for AI agents
# Responds to Tech Signal Map signals with strategic recommendations

# ==============================================================================
# PLAYBOOK METADATA
# ==============================================================================
framework_name: "Technology Trend Response"
framework_source: "EA Agentic Lab (Tech Signal Map Integration)"
playbook_mode: "REACTIVE"  # Responds to tech signal map signals
intended_agent_role: "SA Agent (coordinates technology-driven actions)"
secondary_agents: ["CI Agent", "AE Agent", "PM Agent"]

primary_objective: "Translate technology trend signals into actionable account strategies, identifying opportunities from declining competitors and threats from emerging technologies"

when_not_to_use:
  - "No tech signal map data available for realm"
  - "Technology change is minor (<10% trend)"
  - "Technology is irrelevant to customer's business"
  - "Account is in early discovery (insufficient context)"

# ==============================================================================
# TRIGGER CONDITIONS
# ==============================================================================
trigger_conditions:
  signal_triggers:
    # Primary trigger: Competitor technology declining
    - signal: "SIG_TECH_003"
      filter: "is_competitor == true AND trend_direction == 'down' AND trend_percentage <= -20"
      description: "Competitor technology declining significantly - displacement opportunity"
      priority: "HIGH"
      response_type: "displacement_opportunity"

    # Competitor technology growing (threat)
    - signal: "SIG_TECH_003"
      filter: "is_competitor == true AND trend_direction == 'up' AND trend_percentage >= 20"
      description: "Competitor technology growing - competitive threat"
      priority: "MEDIUM"
      response_type: "competitive_threat"

    # New competitor technology detected
    - signal: "SIG_TECH_002"
      filter: "is_competitor == true"
      description: "New competitor technology entering market"
      priority: "MEDIUM"
      response_type: "new_entrant_assessment"

    # New technology aligned with our offerings
    - signal: "SIG_TECH_002"
      filter: "our_offering_match IS NOT NULL"
      description: "New technology trend aligns with our capabilities"
      priority: "MEDIUM"
      response_type: "opportunity_alignment"

    # Tech radar updated with significant changes
    - signal: "SIG_TECH_001"
      filter: "ring_changes_count >= 3 OR new_technologies_count >= 3"
      description: "Significant tech landscape shift"
      priority: "LOW"
      response_type: "landscape_refresh"

  automatic:
    - "Quarterly tech signal map review"
    - "Account planning cycle (annual/bi-annual)"

  manual:
    - "SA requests technology trend analysis for account"
    - "AE requests competitive technology positioning"

# ==============================================================================
# REQUIRED INPUTS
# ==============================================================================
required_inputs:
  mandatory:
    - artifact: "{realm}/intelligence/tech_signal_map/current_radar.yaml"
      description: "Current tech signal map with technology trends"
    - artifact: "{realm}/{node}/external-infohub/overview.md"
      description: "Account overview with current engagement context"

  optional:
    - artifact: "/api/v1/realms/{realm}/tech-radar/competitive"
      use: "Detailed competitor technology analysis"
    - artifact: "/api/v1/realms/{realm}/tech-radar/skills-gap"
      use: "Skills gap opportunities"
    - artifact: "/api/v1/realms/{realm}/tech-radar/hiring-velocity"
      use: "Investment signals from hiring trends"
    - artifact: "{realm}/{node}/internal-infohub/competitive/*.md"
      use: "Account-specific competitive context"
    - artifact: "{realm}/{node}/internal-infohub/stakeholders/relationship_map.md"
      use: "Stakeholder mapping for engagement strategy"

  minimum_data_threshold:
    - "Tech radar available for realm"
    - "At least 1 relevant technology in radar"

# ==============================================================================
# KEY QUESTIONS BY RESPONSE TYPE
# ==============================================================================
key_questions:
  displacement_opportunity:
    - "What competitor tool is declining and by how much?"
    - "What is our competing offering ({vendor} Security, Observability, Search, etc.)?"
    - "Is the customer currently using the declining competitor tool?"
    - "What are the key differentiators vs. the competitor?"
    - "What migration path can we propose?"
    - "Who are the key stakeholders for this technology decision?"
    - "What is the estimated timeline for replacement decision?"

  competitive_threat:
    - "What competitor tool is gaining traction?"
    - "Is this competitor already present in the account?"
    - "What are the competitor's strengths driving adoption?"
    - "What defensive positioning can we deploy?"
    - "What value reinforcement activities should we prioritize?"
    - "Are there technical proof points needed to counter the threat?"

  new_entrant_assessment:
    - "What is the new technology/vendor?"
    - "Is this a direct competitor or adjacent tool?"
    - "What is the initial adoption level (mentions, seniority)?"
    - "Does this represent a new paradigm or incremental improvement?"
    - "How should we position against this new entrant?"
    - "Should we engage with Product team about capability gaps?"

  opportunity_alignment:
    - "What new technology trend aligns with our offerings?"
    - "Which of our products addresses this technology need?"
    - "What is the adoption trajectory (Assess → Trial → Adopt)?"
    - "How can we position ourselves as the enabler for this technology?"
    - "What account-specific messaging should we develop?"

  landscape_refresh:
    - "What are the top 3-5 technology changes since last review?"
    - "Which changes are most relevant to current engagement?"
    - "Are there new opportunities or threats to address?"
    - "Should we update account strategy based on tech shifts?"

# ==============================================================================
# DECISION LOGIC
# ==============================================================================
decision_logic:
  rules:
    # Competitor declining > 30% = aggressive displacement
    - id: "aggressive_displacement"
      condition: "response_type == 'displacement_opportunity' AND trend_percentage <= -30"
      severity: "HIGH"
      output_type: "Initiative + Action Items"
      decision:
        title: "Aggressive displacement opportunity: {competitor_name} declining in {realm}"
        context: "{competitor_name} mentions down {trend_percentage}% - prime displacement opportunity"
        recommendation: "Initiate proactive displacement campaign"
        actions:
          - "SA: Prepare competitive positioning vs. {competitor_name}"
          - "AE: Schedule meeting with key stakeholders to discuss modernization"
          - "CI Agent: Generate detailed battlecard for {competitor_name}"
          - "Request migration assessment if customer uses {competitor_name}"
        stakeholders: ["AE", "SA", "CI Agent"]
        urgency: "IMMEDIATE"

    # Competitor declining 20-30% = measured response
    - id: "measured_displacement"
      condition: "response_type == 'displacement_opportunity' AND trend_percentage > -30 AND trend_percentage <= -20"
      severity: "MEDIUM"
      output_type: "Initiative"
      decision:
        title: "Displacement opportunity: {competitor_name} declining in {realm}"
        context: "{competitor_name} showing decline - monitor and prepare"
        recommendation: "Prepare positioning materials, wait for customer signal"
        actions:
          - "SA: Review competitive positioning"
          - "Monitor for customer dissatisfaction signals"
          - "Prepare migration value proposition for when opportunity arises"

    # Competitor growing = defensive action
    - id: "defensive_response"
      condition: "response_type == 'competitive_threat' AND trend_percentage >= 25"
      severity: "MEDIUM"
      output_type: "Risk + Initiative"
      decision:
        title: "Competitive threat: {competitor_name} growing in {realm}"
        context: "{competitor_name} mentions up {trend_percentage}% - potential threat"
        recommendation: "Reinforce value and differentiation"
        actions:
          - "SA: Identify technical differentiators vs. {competitor_name}"
          - "AE: Strengthen champion relationships"
          - "Schedule value reinforcement meeting with customer"
          - "Prepare proof points for areas competitor is weak"
      creates:
        - object_type: "Risk"
          category: "competitive"
          severity: "MEDIUM"

    # New competitor entrant
    - id: "new_competitor_response"
      condition: "response_type == 'new_entrant_assessment'"
      severity: "LOW"
      output_type: "Initiative"
      decision:
        title: "New competitor detected: {technology_name} in {realm}"
        context: "First appearance of {technology_name} with {mention_count} mentions"
        recommendation: "Monitor and assess threat level"
        actions:
          - "CI Agent: Create initial competitor profile"
          - "SA: Assess technical overlap and differentiation"
          - "Monitor for increased adoption in next scan"

    # Aligned opportunity
    - id: "aligned_opportunity"
      condition: "response_type == 'opportunity_alignment' AND ring == 'Adopt' OR ring == 'Trial'"
      severity: "MEDIUM"
      output_type: "Initiative + Action Items"
      decision:
        title: "Technology opportunity: {technology_name} aligned with {our_offering}"
        context: "{technology_name} in {ring} ring aligns with {our_offering}"
        recommendation: "Position {vendor} as enabler for {technology_name} initiatives"
        actions:
          - "SA: Prepare messaging linking {our_offering} to {technology_name}"
          - "AE: Identify stakeholders responsible for {technology_name} initiatives"
          - "Schedule discovery meeting to understand customer's {technology_name} plans"

# ==============================================================================
# EXPECTED OUTPUTS
# ==============================================================================
expected_outputs:
  primary_artifact:
    path: "{realm}/{node}/external-infohub/tech_trends/response_{technology_name}_{YYYY-MM-DD}.md"
    format: "markdown"
    sections:
      - executive_summary
      - technology_trend_analysis
      - account_impact_assessment
      - recommended_actions
      - competitive_positioning
      - stakeholder_engagement_plan

    schema:
      executive_summary:
        - technology_name: "string"
        - trend_direction: "enum[up|down|new]"
        - trend_percentage: "number"
        - response_type: "string"
        - urgency: "enum[IMMEDIATE|NEAR_TERM|MONITOR]"
        - primary_action: "string"

      technology_trend_analysis:
        - ring: "enum[Adopt|Trial|Assess|Hold]"
        - quadrant: "string"
        - mention_count: "integer"
        - required_ratio: "number"
        - seniority_score: "number"
        - is_competitor: "boolean"
        - our_offering_match: "string (nullable)"

      account_impact_assessment:
        - relevance_to_account: "enum[HIGH|MEDIUM|LOW]"
        - current_customer_usage: "boolean"
        - potential_impact: "string"
        - opportunity_or_threat: "enum[OPPORTUNITY|THREAT|NEUTRAL]"

      recommended_actions:
        - immediate_actions: "array[string]"
        - near_term_actions: "array[string]"
        - monitoring_actions: "array[string]"
        - stakeholders_to_engage: "array[string]"

      competitive_positioning:
        - key_differentiators: "array[string]"
        - proof_points: "array[string]"
        - messaging_themes: "array[string]"

  action_items:
    path: "{realm}/{node}/internal-infohub/actions/"
    create_if:
      - "response_type in ['displacement_opportunity', 'competitive_threat', 'opportunity_alignment']"
    schema:
      title: "string"
      owner: "string"
      due_date: "date"
      priority: "enum[critical|high|medium]"
      context: "string"

  risk_objects:
    path: "{realm}/{node}/internal-infohub/risks/"
    create_if:
      - "response_type == 'competitive_threat' AND trend_percentage >= 20"
    schema:
      title: "string"
      severity: "enum[HIGH|MEDIUM|LOW]"
      category: "competitive"
      mitigation: "string"

  notifications:
    - recipient: "Account Executive"
      condition: "response_type in ['displacement_opportunity', 'competitive_threat']"
      message: "Tech trend alert for {realm}: {technology_name} {trend_direction} {trend_percentage}%"

    - recipient: "SA Agent"
      condition: "always"
      message: "Tech trend response generated for {realm}/{node}: {response_type}"

    - recipient: "CI Agent"
      condition: "is_competitor == true"
      message: "Competitor technology trend: {technology_name} - battlecard review recommended"

# ==============================================================================
# STOP CONDITIONS
# ==============================================================================
stop_conditions:
  escalate_to_human:
    - condition: "trend_percentage >= 50 OR trend_percentage <= -50"
      reason: "Extreme technology shift requires strategic review"
      action: "Escalate to Sales Leadership and SA Lead"

    - condition: "response_type == 'displacement_opportunity' AND customer_dependency_on_competitor == 'HIGH'"
      reason: "Major displacement requires executive engagement"
      action: "Plan executive-level meeting before approaching customer"

  insufficient_data:
    - "No account context available (node not found)"
    - "Technology not relevant to customer industry"
    - "Insufficient signal details"

  ambiguity_signals:
    - "Technology could be opportunity or threat depending on customer's current stack"
    - "Unclear whether customer is evaluating this technology"

# ==============================================================================
# VALIDATION CHECKS
# ==============================================================================
validation_checks:
  pre_execution:
    - "tech_signal_map exists for realm"
    - "signal payload contains required fields (technology_name, trend)"
    - "account context available"

  post_execution:
    - "response_type determined"
    - "at least 1 action item created"
    - "competitive positioning documented if competitor involved"

  output_quality:
    - "Actions are specific and assignable"
    - "Messaging themes are account-relevant"
    - "Urgency matches trend severity"

# ==============================================================================
# EXECUTION METADATA
# ==============================================================================
estimated_execution_time: "2-5 minutes (agent)"
frequency: "On signal receipt or quarterly review"
human_review_required: false
approval_workflow:
  - reviewer: "SA Agent"
    condition: "response_type in ['displacement_opportunity', 'competitive_threat']"
    approval_gate: "Validate account relevance and recommended actions"

last_updated: "2026-01-21"
version: "1.0"
status: "production_ready"
notes: "First tech-radar integrated playbook - responds to SIG_TECH signals with account-specific strategies"
