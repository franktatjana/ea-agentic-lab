# Deal Retrospective Template
# Purpose: Standardized format for win/loss retrospectives
# Owner: Retrospective Agent
# Timing: Within 7 days of deal close

# ============================================================================
# METADATA
# ============================================================================
metadata:
  retrospective_id: "RETRO-{YYYYMMDD}-{account_id}"
  created_date: "{date}"
  retrospective_date: "{date}"
  author: "{author_name}"
  status: "DRAFT|IN_REVIEW|FINAL"

# ============================================================================
# DEAL SNAPSHOT
# ============================================================================
deal_snapshot:
  account_name: "{account_name}"
  opportunity_name: "{opportunity_name}"
  outcome: "WON|LOST|NO_DECISION"

  financials:
    arr: "{amount}"
    total_contract_value: "{amount}"
    discount_applied: "{percentage}"

  timeline:
    opportunity_created: "{date}"
    close_date: "{date}"
    sales_cycle_days: "{number}"
    days_in_each_stage:
      - stage: "{stage_name}"
        days: "{number}"

  competitive_context:
    competitors_involved:
      - name: "{competitor}"
        status: "WON|LOST|WITHDREW"

  team:
    ae: "{name}"
    sa: "{name}"
    specialists: ["{name}"]
    ca: "{name if post-sale}"

# ============================================================================
# WIN ANALYSIS (Complete if outcome = WON)
# ============================================================================
win_analysis:
  primary_win_drivers:
    - driver: "{what won the deal}"
      category: "VALUE|TECHNICAL|RELATIONSHIP|COMPETITIVE|COMMERCIAL"
      evidence: "{supporting evidence}"
      replicable: "YES|NO|PARTIALLY"

  value_proposition:
    what_resonated: |
      {Description of value messages that worked}

    decisive_use_cases:
      - use_case: "{use_case}"
        stakeholder: "{who cared}"
        value_delivered: "{quantified if possible}"

    differentiation:
      - differentiator: "{what set us apart}"
        vs_competitor: "{competitor if applicable}"
        evidence: "{how we know this mattered}"

  sales_execution:
    discovery_effectiveness: "EXCELLENT|GOOD|ADEQUATE|POOR"
    discovery_notes: |
      {What worked well in discovery}

    stakeholder_engagement:
      - stakeholder: "{name/role}"
        engagement_level: "CHAMPION|SUPPORTER|NEUTRAL"
        contribution_to_win: "{how they helped}"

    sales_motion_effectiveness: |
      {What sales approaches worked}

  technical_validation:
    pov_contribution: "DECISIVE|IMPORTANT|HELPFUL|MINIMAL|NONE"
    pov_notes: |
      {How POV/POC contributed to win}

    decisive_proof_points:
      - proof_point: "{what we proved}"
        method: "POV|DEMO|REFERENCE|DOCUMENTATION"
        stakeholder_reaction: "{impact}"

    technical_concerns_addressed:
      - concern: "{concern raised}"
        resolution: "{how we addressed it}"

  competitive_dynamics:
    competitor_neutralized: "{competitor name if applicable}"
    our_advantages:
      - advantage: "{what we had that they didn't}"
        impact: "HIGH|MEDIUM|LOW"

    objections_handled:
      - objection: "{competitive objection}"
        response: "{how we handled it}"
        outcome: "RESOLVED|PARTIALLY_RESOLVED"

  relationship_factors:
    champion_strength: "STRONG|MODERATE|WEAK"
    champion_contribution: |
      {How champion helped win}

    executive_engagement:
      - executive: "{name/title}"
        engagement: "{what we did}"
        impact: "{how it helped}"

    trust_builders: |
      {What built trust with the customer}

# ============================================================================
# LOSS ANALYSIS (Complete if outcome = LOST or NO_DECISION)
# ============================================================================
loss_analysis:
  loss_classification:
    primary_type: "COMPETITOR|NO_DECISION|TECHNICAL|COMMERCIAL|RELATIONSHIP|TIMING"
    loss_reason_detail: |
      {Detailed explanation of why we lost}

    momentum_loss_point: "{stage or event when we lost momentum}"
    tipping_point: "{specific event that decided the outcome}"

  competitive_analysis:
    winner: "{competitor name or 'No selection'}"
    what_competitor_did_better:
      - area: "{area}"
        their_approach: "{what they did}"
        our_gap: "{where we fell short}"

    decisive_factors:
      - factor: "{what won it for them}"
        evidence: "{how we know}"
        controllable: "YES|NO"

    pricing_comparison:
      perception: "WE_WERE_HIGHER|COMPARABLE|WE_WERE_LOWER"
      notes: |
        {Details on pricing dynamics}

  sales_process_review:
    qualification_assessment: "PROPERLY_QUALIFIED|OVER_QUALIFIED|UNDER_QUALIFIED"
    qualification_notes: |
      {What we missed in qualification}

    warning_signs_missed:
      - signal: "{warning sign}"
        when_visible: "{when we could have seen it}"
        what_we_did: "{our response or lack thereof}"
        what_we_should_have_done: "{better approach}"

    stakeholder_gaps:
      - stakeholder: "{who we should have engaged}"
        why_important: "{their influence}"
        barrier: "{why we didn't engage}"

  technical_evaluation:
    requirements_met: "ALL|MOST|SOME|FEW"
    unmet_requirements:
      - requirement: "{requirement}"
        gap_type: "FEATURE|PERFORMANCE|INTEGRATION|COMPLIANCE"
        workaround_offered: "YES|NO"
        customer_reaction: "{response}"

    pov_assessment:
      outcome: "SUCCESS|PARTIAL|FAILURE|NOT_CONDUCTED"
      issues:
        - issue: "{what went wrong}"
          impact: "{how it affected outcome}"

  commercial_factors:
    pricing_competitive: "YES|NO|UNKNOWN"
    value_demonstrated: "CLEARLY|PARTIALLY|POORLY"
    commercial_blockers:
      - blocker: "{commercial issue}"
        resolution_attempted: "{what we tried}"
        outcome: "{result}"

# ============================================================================
# LEARNINGS
# ============================================================================
learnings:
  key_learnings:
    - learning: "{what we learned}"
      category: "SALES|TECHNICAL|COMPETITIVE|PRODUCT|PROCESS"
      applicability: "UNIVERSAL|SEGMENT_SPECIFIC|ACCOUNT_SPECIFIC"
      action_recommended: "{what to do differently}"

  what_to_repeat:
    - practice: "{what worked well}"
      context: "{when to apply}"

  what_to_change:
    - current_practice: "{what we did}"
      recommended_change: "{what to do instead}"
      expected_impact: "{improvement expected}"

  competitive_intelligence:
    - insight: "{competitive insight}"
      confidence: "HIGH|MEDIUM|LOW"
      source: "{how we learned this}"

  product_feedback:
    - feedback_type: "FEATURE_GAP|ENHANCEMENT|PRICING"
      description: "{detail}"
      customer_impact: "{how it affected deal}"
      priority_recommendation: "CRITICAL|HIGH|MEDIUM|LOW"

# ============================================================================
# RECOMMENDATIONS
# ============================================================================
recommendations:
  immediate_actions:
    - action: "{what to do}"
      owner: "{who}"
      due_date: "{when}"

  process_improvements:
    - improvement: "{process change}"
      rationale: "{why}"
      effort: "LOW|MEDIUM|HIGH"
      impact: "LOW|MEDIUM|HIGH"

  training_needs:
    - topic: "{training topic}"
      audience: "{who needs it}"
      reason: "{why needed}"

# ============================================================================
# RESURRECTION ASSESSMENT (For losses only)
# ============================================================================
resurrection_assessment:
  potential: "HIGH|MEDIUM|LOW|NONE"
  conditions_for_return:
    - condition: "{what would need to change}"
      likelihood: "HIGH|MEDIUM|LOW"

  recommended_approach: |
    {If/when to re-engage and how}

  nurture_strategy: |
    {How to stay in touch}

# ============================================================================
# DISTRIBUTION
# ============================================================================
distribution:
  internal_sharing:
    account_team: "FULL"
    sa_community: "ANONYMIZED_LEARNINGS"
    sales_leadership: "SUMMARY"
    product_team: "PRODUCT_FEEDBACK_ONLY"

  external_sharing:
    customer_debrief: "YES|NO"
    debrief_notes: |
      {If yes, what was discussed with customer}

# ============================================================================
# SIGN-OFF
# ============================================================================
sign_off:
  participants:
    - name: "{name}"
      role: "{role}"
      agreed_date: "{date}"

  manager_review:
    reviewer: "{manager name}"
    review_date: "{date}"
    notes: |
      {Manager comments}
